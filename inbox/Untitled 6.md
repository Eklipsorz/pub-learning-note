## æè¿°


### REST é¢¨æ ¼

  

#### REST Intro

1. å…¨åç‚ºREpresentational State Transferï¼Œè¼ƒå®Œæ•´çš„èªªæ³•æ˜¯Resource Representation State Transferï¼Œ

æ˜¯ä¸€ç¨® **ä»¥è³‡æºç‚ºä¸­å¿ƒï¼Œç”¨HTTPæ–¹æ³•æ“ä½œè³‡æºï¼Œä¸¦ä¸”ç¬¦åˆHATEOAS(Hypermedia as the engine of application state)çš„ç¶²é è»Ÿé«”é–‹ç™¼é¢¨æ ¼ä¹‹ã„§**

- èƒŒæ™¯ï¼šç•¶æ™‚èƒŒæ™¯ä¸‹çš„è»Ÿé«”é–‹ç™¼å’Œç¶²è·¯ç™¼å±•çš†åˆ†åˆ¥ä»¥å–®æ©Ÿç’°å¢ƒä¸‹é€²è¡Œä»¥åŠåˆ¶å®š/å¯¦ç¾æŸäº›ç³»çµ±ä¹‹é–“çš„é€šä¿¡å”å®šï¼Œå…©è€…å¾ˆå°‘æœ‰äº¤é›†
- ç›®çš„ï¼šå¦‚ä½•è®“ä¸åŒè»Ÿé«”æ–¹ä¾¿ç¶²è·¯äº’ç›¸å‚³éè³‡è¨Šä¾†é”åˆ°å…¶åŠŸèƒ½æ€§
- æ‡‰ç”¨æ–¼ï¼šREST çš„ç‹€æ…‹è½‰æ›æ˜¯åŸºæ–¼HTTP/HTTPSå”è­°ã€‚
- æœ€çµ‚ç›®æ¨™ï¼šç•¶å­˜å–åˆ°ç‰¹å®šè³‡æºXæ™‚ï¼Œå›æ‡‰å°±æœƒåŒ…å«å‹•æ…‹ç”¢ç”Ÿå‡ºä¾†çš„ä¸€çµ„èˆ‡ç‰¹å®šè³‡æºXç›¸é—œé€£çš„APIé€£çµï¼Œè€Œéä»¥å¯«æ­»çš„æ–¹å¼ä¾†è¡¨é”èƒ½å°ç‰¹å®šè³‡æºåšå“ªäº›é€²ä¸€æ­¥çš„æ“ä½œ
- å‚™è¨»ï¼šæ­¤ç‚ºé¢¨æ ¼ï¼Œä¸¦ééœ€è¦åš´æ ¼éµå®ˆçš„æ¨™æº–ã€‚

2. åœ¨é€™è£¡é¸æ“‡å®Œæ•´èªªæ³•ä¾†è§£é‡‹åè©ï¼š
- Resourceï¼šæœƒæ˜¯æŒ‡ç¶²è·¯ä¸Šçš„å¯¦é«”ã€è³‡æºï¼Œå¯¦é«”/è³‡æºå¯ä»¥æ˜¯æŒ‡æŸçµ„è³‡æ–™ã€æœå‹™ã€åœ–ç‰‡ã€æ­Œæ›²ï¼Œä½†å¯¦éš›ä¸Šè©²å­—æœ¬è³ªä¸Šä»åœç•™åœ¨ç”¨æ–‡å­—æ¦‚å¿µå»æè¿°è©²å¯¦é«”ã€è³‡æºçš„å­˜åœ¨ï¼Œåœ¨ç¶²è·¯ä¸Šé›£ä»¥ç”¨å…·é«”çš„å½¢å¼å»å‘ˆç¾è³‡æº(å¦‚çœ‹ã€æ‘¸ã€è½)ï¼Œåœ¨é€™è£¡æœƒæ˜¯ä»¥ **ä»¥URI** é€™æ–‡å­—æ¦‚å¿µä¾† **æè¿°å…¶å¯¦é«”è³‡æº**ã€‚

- Representationï¼šæ˜¯æŒ‡ä»¥æŸç¨®å½¢å¼ä¾†å‘ˆç¾æŸäººäº‹ç‰©ï¼Œ**åœ¨é€™è£æœƒä»¥æŸç¨®å½¢å¼ä¾†å‘ˆç¾Resourceé€™æ¦‚å¿µ**ï¼Œæ›è¨€ä¹‹å°±æ˜¯ä»¥æŸç¨®å½¢å¼ä¾†å…·é«”åŒ–è³‡æºï¼Œæ¯”å¦‚ç”¨HTMLæ ¼å¼ã€JSONæ ¼å¼ç­‰ç­‰

- State ç”±æ–¼å®¢æˆ¶ç«¯å’Œä¼ºæœå™¨ä¹‹é–“çš„äº’å‹•å‹¢å¿…æœƒæ¶‰åŠåˆ°ä¸åŒæ™‚é–“é»çš„è³‡æºå…§å®¹ï¼Œæˆ–è¨±æ˜¯åœ¨æŸæ®µæ™‚é–“çš„åŒä»½è³‡æºAå…§å®¹æœƒè®Šæ›´ï¼Œæˆ–è¨±æ˜¯æŸæ®µæ™‚é–“é»çš„åŒä»½è³‡æºAå…§å®¹æœƒç§»é™¤ï¼Œé€™äº›å°‡æœƒæ˜¯è³‡æºAåœ¨ä¸åŒæ™‚é–“é»çš„å…§å®¹æˆ–è€…èªªç‹€æ…‹ï¼Œæœ€å¾Œåœ¨é€™è£¡æœƒä»¥ç‹€æ…‹ä¾†æè¿°åŒä»½è³‡æºåœ¨ä¸åŒæ™‚é–“é»ä¸‹çš„è³‡æºå…§å®¹ã€‚

> ç‹€æ…‹æ˜¯æŒ‡æŸç‰©ä»¶åœ¨ç‰¹å®šæ™‚é–“æ‰€æœƒæœ‰çš„æƒ…æ³ã€è³‡è¨Šã€‚ The particular condition that something is in at a specific time

ä¸”ç”±æ–¼**è©²æ¦‚å¿µæ˜¯å»ºç«‹åœ¨ç„¡ç‹€æ…‹çš„HTTPå”è­°ä¸Šï¼Œæ‰€ä»¥æ‰€æœ‰çš„è³‡æºéƒ½æœƒæ°¸ä¹…æ€§ä¿ç•™åœ¨ä¼ºæœå™¨ï¼Œå®¢æˆ¶ç«¯åªæœƒæ‹¿åˆ°æŸä¸€å€‹æ™‚é–“é»çš„è³‡æºç„¶å¾Œå°±è¢«ç§»é™¤ã€‚**

- Transfer æ˜¯æŒ‡æŸäº‹ç‰©åœ¨æŸæ–¹é¢å¾Aè½‰æ›è‡³Bï¼Œè€Œç¶“ç”±å‰é¢ä¸‰å€‹å­—çš„å½¢å®¹æœƒæ˜¯æŒ‡é€™äº›å…·é«”åŒ–è³‡æºä¹‹é–“çš„ç‹€æ…‹åˆ‡æ›ï¼Œæ¯ç•¶å®¢æˆ¶ç«¯å‘ä¼ºæœå™¨ç«¯ç™¼å‡ºè³‡æºç›¸é—œè«‹æ±‚æ™‚ï¼Œå‹¢å¿…æœƒè½‰æ›ä¼ºæœå™¨çš„è³‡æºç›®å‰ç‹€æ…‹(å¦‚URI->æ˜ç¢ºæ¸…å–®JSON)ï¼Œä¾†è®“ä¼ºæœå™¨å‚³éè³‡è¨Šçµ¦å®¢æˆ¶ç«¯ï¼šå¾ç‹€æ…‹Aè½‰æ›è‡³è½‰æ›Bï¼Œåœ¨é€™è£¡ç‚ºäº†çµ±ä¸€å°‡è«‹æ±‚è½‰æ›ä»¥è³‡æºç‚ºä¸­å¿ƒçš„è«‹æ±‚ï¼Œå®¢æˆ¶ç«¯æ‰€ç™¼å‡ºçš„è«‹æ±‚å¾—å¿…é ˆé€éç¾æœ‰ä¸”è¼ƒæ˜ç¢ºçš„HTTPæ–¹æ³•ä¾†ç™¼å‡ºï¼Œæ¯”å¦‚GETã€POSTã€PUTã€DELETEç­‰HTTPæ–¹ï¼Œè€Œé€™ç¨®è½‰æ›æœƒæ˜¯åœ¨Resource Representationçš„åŸºç¤ä¸Šé€²è¡Œè½‰æ›ã€‚ æ›è¨€ä¹‹ï¼Œå®¢æˆ¶ç«¯æœƒç™¼å‡ºHTTPå‹•è©ï¼‹è³‡æºåç¨± è«‹æ±‚ä¾†è®“ç›®å‰åœ¨ä¼ºæœå™¨çš„è³‡æºé€²è¡Œç‹€æ…‹åˆ‡æ›ï¼Œä»¥é”åˆ°ç›®çš„ã€‚

- ç°¡åŒ–å¾Œçš„REpresentational State Transfer çš„ REpresentational æ˜¯æŒ‡è‘—Resource Representation é€™ä»¶äº‹


3. æ•´é«”æ¦‚å¿µæ˜¯æè¿°è‘—å¦‚ä½•å°åœ¨ç¶²è·¯ä¸Šçš„ä»»æ„å…·é«”åŒ–è³‡æºé€²è¡Œè½‰ç§»æˆ–è€…ç²å–ï¼Œåœ¨é€™è£¡æœƒæœ‰å…©å¤§èª²é¡Œï¼š

- å®šç¾©æ¯å€‹å…·é«”åŒ–è³‡æºåœ¨ç¶²è·¯ä¸Šçš„ä½ç½®

- å®šç¾©å¦‚ä½•å°ç¶²è·¯ä¸Šçš„å…·é«”åŒ–è³‡æºé€²è¡Œåˆ‡æ›ã€ç²å–


4. é€šå¸¸æ‡‰ç”¨æ–¼HTTP/HTTPSå”å®šçš„ç¶²é æœå‹™ï¼Œé‚£éº¼åœ¨é€™è£¡çš„ Resource Representation State æˆ–è€… Representational State æ‰€æŒ‡çš„å…·é«”åŒ–è³‡æºæœƒæ˜¯ä»¥PDFã€HTMLã€CSSã€JSã€åœ–ç‰‡æª”ã€å½±ç‰‡æª”ç­‰èƒ½åœ¨ç¶²é æœå‹™å‘ˆç¾çš„å…·é«”å…§å®¹ã€‚

5. é—œæ–¼ç¬¬ä¸‰é»æ‰€æåˆ°çš„å…©å¤§èª²é¡Œåœ¨ç¶²é æœå‹™ä¸Šæ‰€è¦åšçš„å¯¦ç¾ï¼š

- å®šç¾©æ¯å€‹å…·é«”åŒ–è³‡æºåœ¨ç¶²è·¯ä¸Šçš„ä½ç½®ï¼šé€éURIä¾†æ¨™æ˜å…·é«”åŒ–è³‡æºåœ¨ç¶²è·¯ä¸Šæ‰€åœ¨çš„ä½å€ï¼Œè€ŒURIæœƒåŒ…å«è‘—URLå’ŒURN(ä»¥åºè™Ÿä¾†å€åˆ†æ¯å€‹å…·é«”åŒ–è³‡æº)ã€æ›è¨€ä¹‹ï¼ŒURIåªæœƒæ˜¯åœ¨ç¶²è·¯ä¸Šçš„æ¯ä¸€å€‹å…·é«”åŒ–è³‡æºæœ¬èº«ã€‚

- å¦‚ä½•å°ç¶²è·¯ä¸Šçš„å…·é«”åŒ–è³‡æºé€²è¡Œåˆ‡æ›ã€ç²å–ï¼šå®šç¾©æ˜ç¢ºçš„HTTP/HTTPSå”å®šæ¨™æº–æ–¹æ³•ä¾†åšç‹€æ…‹åˆ‡æ›(å¦‚ä½•ç²å–è©²ç‹€æ…‹æˆ–è€…è©²å…·é«”åŒ–è³‡æº)ï¼Œè€Œæ¨™æº–æ–¹æ³•æœƒæ˜¯GETã€POSTã€PATCHã€DELETEç­‰æ–¹æ³•ã€‚

- åœ¨é€™æ¨£ç’°å¢ƒä¸‹ï¼Œç¶²é é–‹ç™¼ä¸‹çš„å®¢æˆ¶ç«¯å’Œä¼ºæœå™¨ç«¯ä¹‹é–“çš„URLåªæœƒæ˜¯å…·é«”åŒ–è³‡æºæœ¬èº«ï¼Œä¸æœƒé¡å¤–å¤¾é›œä¸èƒ½å¤ æ§‹æˆè³‡æºçš„è³‡è¨Šï¼Œè€Œå°æ–¼ç‹€æ…‹åˆ‡æ›çš„æ¨™æº–æ–¹æ³•æœƒæ˜¯ä»¥HTTPå°åŒ…çš„å½¢å¼ä¾†é€²è¡Œå¯¦ç¾ã€‚

6. è‹¥ç¬¦åˆRESTå°æ–¼ç¶²é æœå‹™çš„å¯¦ä½œé¢¨æ ¼ä¹‹è»Ÿé«”æ¶æ§‹å¯ä»¥ç”¨RESTfulä¾†å½¢å®¹ã€‚

  
  

### åƒè€ƒè³‡æ–™



3. [ä»€éº¼æ˜¯RESTè·ŸRESTful?](https://ihower.tw/blog/archives/1542)
[[@ihowerShiMoShiRESTGenRESTful2006]]
4. [Representational State Transfer (REST)](https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm)
[[@FieldingDissertationCHAPTER]]
5. [ç†è§£RESTfulæ¶æ„(åŸä½œè€…é˜®ä¸€å³°ï¼‰](https://www.ruanyifeng.com/blog/2011/09/restful.html)

  
  
  
  
  

## REST ç­‰ç´šæ¨¡å‹

1. ç›®çš„åœ¨æ–¼ï¼šä»¥RESTç´„æŸä¾†è©•ä¼°ä¸€å€‹Webæœå‹™è¨­è¨ˆçš„å¥½å£ä¸¦åšå€‹åˆ†ç´š

2. ç­‰ç´šæ¨¡å‹èµ·è‰æ–¼Leonard Richardsonåœ¨2008å¹´ QCon Talkä¸­ï¼Œä¸¦æ–¼2010å¹´ç”±Martin Fowleré€²ä¸€æ­¥è©®é‡‹æ¨¡å‹ï¼Œä¸¦ä½¿è©²æ¨¡å‹æ›´åŠ å®Œæ•´

3. ç­‰ç´šå¤§è‡´ä¸Šåˆ†ç‚ºï¼š

- Level 0ï¼šå°‡æ•´å€‹Webæœå‹™è¦åŠƒæˆä¸€å€‹URIï¼Œä¸¦åªç”¨ä¸€å€‹HTTPå‹•è©ä¾†é€²è¡Œå®¢æˆ¶ç«¯å’Œä¼ºæœå™¨ä¹‹é–“çš„äº’å‹•æ–¹å¼ï¼Œé€šå¸¸HTTPå‹•è©æœƒæ˜¯POST

- Level 1ï¼šå°‡æ•´å€‹Webæœå‹™ä¾æ“šè³‡æºä¾†åˆ†æˆå¤šå€‹URIï¼Œä½†åªç”¨ä¸€å€‹HTTPå‹•è©ä¾†é€²è¡Œå®¢æˆ¶ç«¯å’Œä¼ºæœå™¨ä¹‹é–“çš„äº’å‹•æ–¹å¼

- Level 2ï¼šå°‡æ•´å€‹Webæœå‹™ä¾æ“šè³‡æºä¾†åˆ†æˆå¤šå€‹URIï¼Œä¸¦åˆ†æˆå¤šå€‹HTTPå‹•è©ä¾†é€²è¡Œå®¢æˆ¶ç«¯å’Œä¼ºæœå™¨ä¹‹é–“çš„äº’å‹•æ–¹å¼

- Level 3ï¼šåŸºæ–¼Level2çš„æ¦‚å¿µä¸‹ä½¿ç”¨HATEOASæ¦‚å¿µã€‚

![](https://devopedia.org/images/article/252/1821.1579540894.jpg)

åƒè€ƒè³‡æ–™ï¼š

[ä½ çš„RESTä¸æ˜¯RESTï¼Ÿ](https://www.ithome.com.tw/voice/128528)

[Richardson Maturity Model](https://devopedia.org/richardson-maturity-model)

## HATEOAS

1. å…¨åç‚ºHypermedia As The Engine Of Application Stateï¼Œä¸»è¦æ˜¯ç”¨ä¾†å€åˆ†REST æ¶æ§‹å’ŒéREST æ¶æ§‹çš„æ¢ä»¶

> Hypermedia as the Engine of Application State (HATEOAS) is a constraint of the REST application architecture that distinguishes it from other network application architectures.

  

2. HATEOASå¦‚åŒå…¶åï¼Œ**ä»¥è¶…åª’é«”(Hypermedia)ä¾†è¡¨ç¤ºæ•´å€‹ç¶²é æ‡‰ç”¨ç¨‹å¼ä¾†è¡¨ç¤ºç›®å‰çš„ç‹€æ…‹ä»¥åŠå¯ç”¨çš„ç‹€æ…‹æ˜¯ä»€éº¼**ï¼Œåªè¦å®¢æˆ¶ç«¯ä¸€å‘æ‡‰ç”¨ä¼ºæœå™¨å‘æŸå€‹è³‡æºXç™¼å‡ºè®Šæ›´è«‹æ±‚æ™‚ï¼Œä¼ºæœå™¨å°±æœƒå›å‚³ä¸€çµ„è¶…åª’é«”ä»¥åŠå°æ‡‰è³‡æ–™ï¼Œå…¶è¶…åª’é«”(ä¸€çµ„é€£çµ)æœƒæ˜¯æ ¹æ“šä½¿ç”¨è€…å°æ–¼å…¶è³‡æºç›¸é—œè¯çš„è³‡æºæ˜¯å¦æœ‰æ¬Šé™è€Œç”Ÿæˆå°æ‡‰è³‡æºçš„APIé€£çµ(è¶…é€£çµ)æˆ–è€…å°æ‡‰è³‡æºçš„é€£çµï¼Œå…©è€…çš†å«æœ‰ç›®å‰ç‹€æ…‹æ‰€åœ¨çš„URIä½å€

> With HATEOAS, a client interacts with a network application whose application servers provide information dynamically through hypermedia. A REST client needs little to no prior knowledge about how to interact with an application or server beyond a generic understanding of hypermedia.

ç°¡å–®ä¾†èªªï¼Œç•¶ä½¿ç”¨è€…é€éåˆå§‹API URIå°±èƒ½ç²å–æ¥ä¸‹ä¾†èƒ½å¤ åšçš„æ“ä½œä»¥åŠè³‡æºçš„å°æ‡‰é€£çµï¼Œæ¥è‘—ä½¿ç”¨è€…æƒ³è¦å°å…¶ä¸­ä¸€å€‹è³‡æºæ“ä½œä¸‹é”å°æ‡‰çš„è«‹æ±‚ï¼Œå°±èƒ½è®“ä¼ºæœå™¨å†æ¬¡å›å‚³å…¶è³‡è¨Šä»¥åŠæ¥ä¸‹ä¾†é‚„èƒ½å¤ åšå•¥æ“ä½œå’Œè³‡æºçš„å°æ‡‰é€£çµã€‚

é€™å¯ä»¥å¸¶ä¾†ï¼š

- åœ¨å‰å¾Œåˆ†é›¢çš„æ¶æ§‹ï¼Œå‰ç«¯å¯ä»¥ä¸å¿…äº‹å…ˆçŸ¥é“ä¼ºæœå™¨çš„è™•ç†é‚è¼¯ä»¥åŠå°æ‡‰çš„APIæ˜¯ä»€éº¼è€Œå¯«æ­»API URIï¼Œå› ç‚ºæ¯å€‹è«‹æ±‚å›æ‡‰éƒ½æœƒåŒ…å«è‘—æ¥ä¸‹ä¾†èƒ½å¤ åŸ·è¡Œçš„æ“ä½œä»¥åŠè³‡æºæ˜¯ä»€éº¼ï¼Œè€Œä¸”ç•¶ä¼ºæœå™¨æ›´å‹•APIæ™‚ï¼Œå‰ç«¯ä¹Ÿä¸éœ€è¦è·Ÿè‘—æ”¹å‹•ï¼Œåªéœ€è¦ç­‰å¾…ä¼ºæœå™¨å›å‚³å°æ‡‰è¼ƒæ–°çš„API URI

- ä¼ºæœå™¨èƒ½åœ¨å®¢æˆ¶ç«¯ä¸ä¸­æ–·çš„æƒ…æ³ä¸‹æ ¹æ“šèˆ‡å®¢æˆ¶ç«¯çš„APIäº’å‹•è€Œé€²è¡Œå°æ‡‰èƒ½æ“ä½œçš„è³‡æºä¹‹URI

  

3. æ¡ˆä¾‹ï¼šä¼ºæœå™¨å’Œå®¢æˆ¶ç«¯éƒ½æ”¯æ´è‘—HATEOASï¼Œé‚£éº¼åªè¦å®¢æˆ¶ç«¯å‘ä¼ºæœå™¨ç™¼å‡ºæŸ¥è©¢12345é€™å¸³æˆ¶çš„è³‡æ–™

  

```

GET /accounts/12345 HTTP/1.1

Host: bank.example.com

```

å°±æœƒå‘ˆç¾è©²å¸³è™Ÿçš„è³‡æ–™ä»¥åŠä¸€çµ„é€£çµã€åŒ…å«ç›®å‰æ‰€åœ¨çš„ç‹€æ…‹è³‡è¨Š-selfè³‡è¨Šï¼Œé€£çµæœƒæ˜¯ä¼ºæœå™¨æ ¹æ“šå®¢æˆ¶ç«¯å°æ–¼å…¶å¸³è™Ÿç›¸é—œè¯çš„è³‡æºæ˜¯å¦æœ‰æ¬Šé™è€Œå‹•æ…‹ç”Ÿæˆå°æ‡‰çš„é€£çµï¼Œselfè³‡è¨Šæ˜¯ç”¨ä¾†å‘ŠçŸ¥å½¼æ­¤ç›®å‰ç‹€æ…‹æˆ–è€…ç›®å‰è™•ç†çš„è«‹æ±‚æ˜¯ä»€éº¼ï¼Œåœ¨é€™æ˜¯å…è¨±12345å¸³è™Ÿæ˜¯æ“æœ‰å­˜æ¬¾(deposits)ã€ææ¬¾(withdrawals)ã€è½‰å¸³(transfers)ã€é—œé–‰è«‹æ±‚(close-requests)çš„è«‹æ±‚ï¼Œæ‰€ä»¥æœƒç”Ÿæˆå››å€‹é€£çµï¼Œè€Œselfå‰‡æ˜¯æŒ‡çš„æ˜¯/accounts/12345

  

```

HTTP/1.1 200 OK

  

{

"account": {

"account_number": 12345,

"balance": {

"currency": "usd",

"value": 100.00

},

"self": {

"href": "/accounts/12345 HTTP/1.1"

}

"links": {

"deposits": "/accounts/12345/deposits",

"withdrawals": "/accounts/12345/withdrawals",

"transfers": "/accounts/12345/transfers",

"close-requests": "/accounts/12345/close-requests"

}

}

}

```

  

å‡ä½¿12345å¸³æˆ¶æ²’éŒ¢çš„è©±çš„è©±ï¼Œä¼ºæœå™¨çµ¦å®šçš„é€£çµæœƒåªå‰©ä¸‹å­˜æ¬¾å’Œé—œé–‰è«‹æ±‚

```

"links": {

"deposits": "/accounts/12345/deposits",

"close-requests": "/accounts/12345/close-requests"

}

```

  

4. åƒè€ƒè³‡æ–™

[æ¶æ„ä¹‹:RESTå’ŒHATEOAS](https://zhuanlan.zhihu.com/p/393221998)

[æ·ºè«‡ REST API çš„è¨­è¨ˆå’Œè¦åŠƒ](https://marco79423.net/articles/æ·ºè«‡-rest-api-çš„è¨­è¨ˆå’Œè¦åŠƒ)






## è¤‡ç¿’


---
Status: #ğŸŒ± 
Tags:
Links:
References:
[[@262588213843476HowExplainedREST]]
[[@FengSiXin80TiaoXiaoXia]]