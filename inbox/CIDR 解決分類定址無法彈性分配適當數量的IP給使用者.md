## 描述
  
### 背景
根據[[@WuLeiBieYuJianLuYou2022]]所描述的CIDR衍生背景：
> 1.  在之前的分類定址[[分類定址是將IP分個群組來重新定義使用者能用的IP群組是什麼]]中，IP位址的分配把IP位址的32位元按每8位元為一段分開。這使得字首必須為8，16或者24位元。因此，可分配的最小的位址塊有256（24位元字首，8位元主機位址，28=256）個位址，而這對大多數企業來說太少了。大一點的位址塊包含65536（16位元字首，16位元主機，216=65536）個位址，而這對大公司來說都太多了。
> 2.  無類別區隔路由CIDR技術 依需求善用有限IP位址


重點：
- 在過去以ABCDEF類別來將IP分子網域，但分出來的子網域夠夠分配的IP會沒辦法滿足大多數企業的分配需求，不是子網域能夠分配的IP遠超過需求，就是子網域能夠分配的IP遠低於需求(不能夠足夠分配)
- CIDR是以 **根據IP需求來切分出適當數量的IP給需求方**為主的方法


### CIDR

CIDR 是 Classless Inter-Domain Routing 的縮寫，其技術主要是
- 以目前所處的實際子網域再進一步區分成內部(承認)的子網域來減緩IP分配過多過少的問題
- 同時由於內部(承認)的子網域，所以進一步調整內部路由好讓封包能在內部傳遞上能順利傳遞至正確主機

> IPv4的CIDR位址塊的表示方法和IPv4位址的表示方法是相似的：由四部分組成的點分十進位位址，後跟一個斜線，最後是範圍在0到32之間的一個數字：_A.B.C.D/N_。點分十進位的部分和IPv4位址一樣是一個被分成四個八位位組的32位元二進位數。斜線後面的數字就是**字首長度**，也就是從左到右，被位址塊里的位址所共享的位的數目。當只需說明大概時，十進位部分有時會被省略，因此，_/20_就表示一個字首長度是20的CIDR位址塊。如果一個IP位址的前N位與一個CIDR位址塊的字首是相同的話，那麼就說這個位址屬於這個CIDR位址塊，也可以說是與CIDR位址塊的字首匹配。


> CIDR用**可變長子網路遮罩** （**VLSM**,Variable Length Subnet Masking），根據各人需要來分配IP位址，而不是按照一個全網路約定的規則。所以，網路/主機的劃分可以在位址內的任意位置進行。這個劃分可以是遞迴進行的，即通過增加遮罩位數，來使一部分位址被繼續分為更小的部分。整個網際網路現在都在使用CIDR/VLSM網路位址。除此之外，CIDR也應用在其他方面，尤其是大型私人網路。在普通大小的區域網路里則較少應用，因為這些區域網路一般使用私有網路。

重點：
	- 由於傳統上還是以全網路制定的規則來區分子網域，但仍會有實際分配大於需求或者小於需求的配給問題
	- 在這樣背景之下，CIDR技術是以現有從外部公認拿到的子網域進一步在內部區分更細的子網域，其具體技術為VLSM (Variable Length Subnet Masking)
	- IP在CIDR 表示方法為如下，A.B.C.D為IP位址，N定義是指遮罩從左邊到右邊有多少個連續1
	```
	A.B.C.D/N
	```
	若N為23，就代表著遮罩為如下，其中從左邊數來有23個1，遮罩與A.B.C.D搭配就代表著IP位址前23位為該子網域的識別IP
	```
	1111 1111 . 111 1111 . 1111 1110 . xxxx xxxx
	```
	- 若兩個A.B.C.D/N的IP中，前面N位bit皆為一樣且N也一樣的話，兩個IP皆是在同一個子網域。
	
舉例：
引用[[@hukaizhiWuLeiBieQuGeLuYouCIDRJiShuYiXuQiuShanYongYouXianIPWeiZhiWangGuanRen]]所提到的例子來說明：


## 複習

#🧠 Question :: ->->-> ``

#🧠 Question :: ->->-> ``

#🧠 Question :: ->->-> ``
	
	
	
---
Status: #🌱 
Tags:
[[Network]]
Links:
[[CIDR 解決分類定址無法彈性分配適當數量的IP給使用者]]
[[分類定址是將IP分個群組來重新定義使用者能用的IP群組是什麼]]
[[網路遮罩是用來判斷目前IP所屬的子網域是什麼]]
[[一個IP群組上一定會有負責用來識別整個IP群組以及廣播位址]]
References:
[[@WuLeiBieYuJianLuYou2022]]
[[@hukaizhiWuLeiBieQuGeLuYouCIDRJiShuYiXuQiuShanYongYouXianIPWeiZhiWangGuanRen]]

