## æè¿°


> ES6 çš„ç®­é ­å‡½æ•¸æ˜¯å¦é¡çš„å­˜åœ¨ï¼Œçˆ²ä»€éº¼è¦å–®ç¨èªªå‘¢ï¼Œé€™æ˜¯å› çˆ²ç®­é ­å‡½æ•¸ä¸­çš„ this ä¸é©ç”¨ä¸Šé¢ä»‹ç´¹çš„å››ç¨®ç¶å®šè¦å‰‡ã€‚

> æº–ç¢ºä¾†èªªï¼Œç®­é ­å‡½æ•¸ä¸­æ²’æœ‰ thisï¼Œç®­é ­å‡½æ•¸çš„ this æŒ‡å‘å–æ±ºæ–¼å¤–å±¤ä½œç”¨åŸŸä¸­çš„ thisï¼Œå¤–å±¤ä½œç”¨åŸŸæˆ–å‡½æ•¸çš„ this æŒ‡å‘èª°ï¼Œç®­é ­å‡½æ•¸ä¸­çš„ this ä¾¿æŒ‡å‘èª°ã€‚

> æœ‰é»å–«è»Ÿé£¯çš„å«Œç–‘ï¼Œä¸€é»éƒ½ä¸ç¡¬æœ—ï¼Œæˆ‘å€‘ä¾†çœ‹å€‹ä¾‹å­ï¼š
```
function fn() {
    return () => {
        console.log(this.name);
    };
}
let obj1 = {
    name: 'è½é¢¨æ˜¯é¢¨'
};
let obj2 = {
    name: 'æ™‚é–“è·³èº'
};
let bar = fn.call(obj1); // fn thisæŒ‡å‘obj1
bar.call(obj2); //è½é¢¨æ˜¯é¢¨
```

> ç®­é ­å‡½å¼çš„this binding å–è‡ªåŒ…å«å®ƒçš„ç¯„ç–‡(enclosing scopeï¼Œå‡½å¼æˆ–è€…å…¨åŸŸ)
> è®“æˆ‘å€‘ä»¥ç¯„ä¾‹èªªæ˜ç®­é ­å‡½å¼çš„èªå½™ç¯„ç–‡(lexical scope)

```
function foo() {
	// å›å‚³  
	retrun (a) => {
		console.log(this.a)
	}
}


```

é‡é»ï¼š



#### æ¡ˆä¾‹1

```
function fn() {
    return () => {
        console.log(this.name);
    };
}
let obj1 = {
    name: 'è½é¢¨æ˜¯é¢¨'
};
let obj2 = {
    name: 'æ™‚é–“è·³èº'
};
let bar = fn.call(obj1); 
bar.call(obj2); 
```

```
function fn() {
    return () => {
        console.log(this.name);
    };
}
let obj1 = {
    name: 'è½é¢¨æ˜¯é¢¨'
};
let obj2 = {
    name: 'æ™‚é–“è·³èº'
};
let bar = fn.call(obj1); // fn thisæŒ‡å‘obj1
bar.call(obj2); //è½é¢¨æ˜¯é¢¨
```

#### æ¡ˆä¾‹2
> çˆ²å•¥æˆ‘å€‘ç¬¬ä¸€æ¬¡ç¶å®š this ä¸¦è¿”å›ç®­é ­å‡½æ•¸å¾Œï¼Œå†æ¬¡æ”¹è®Š this æŒ‡å‘æ²’ç”Ÿæ•ˆå‘¢ï¼Ÿ
> 
> å‰é¢èªªäº†ï¼Œç®­é ­å‡½æ•¸çš„ this å–æ±ºæ–¼å¤–å±¤ä½œç”¨åŸŸçš„ thisï¼Œfn å‡½æ•¸åŸ·è¡Œæ™‚ this æŒ‡å‘äº† obj1ï¼Œæ‰€ä»¥ç®­é ­å‡½æ•¸çš„ this ä¹ŸæŒ‡å‘ obj1ã€‚
> 
> é™¤æ­¤ä¹‹å¤–ï¼Œç®­é ­å‡½æ•¸ this é‚„æœ‰ä¸€å€‹ç‰¹æ€§ï¼Œé‚£å°±æ˜¯ä¸€æ—¦ç®­é ­å‡½æ•¸çš„ this ç¶å®šæˆåŠŸï¼Œä¹Ÿç„¡æ³•è¢«å†æ¬¡ä¿®æ”¹ï¼Œæœ‰é»ç¡¬ç¶å®šçš„æ„æ€ã€‚
> 
> ç•¶ç„¶ï¼Œç®­é ­å‡½æ•¸çš„ this ä¹Ÿä¸æ˜¯çœŸçš„ç„¡æ³•ä¿®æ”¹ï¼Œæˆ‘å€‘çŸ¥é“ç®­é ­å‡½æ•¸çš„ this å°±åƒä½œç”¨åŸŸç¹¼æ‰¿ä¸€æ¨£å¾ä¸Šå±¤ä½œç”¨åŸŸæ‰¾ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥ä¿®æ”¹å¤–å±¤å‡½æ•¸ this æŒ‡å‘é”åˆ°é–“æ¥ä¿®æ”¹ç®­é ­å‡½æ•¸ this çš„ç›®çš„ã€‚
```
function fn() {
    return () => {
        console.log(this.name);
    };
};
let obj1 = {
    name: 'è½é¢¨æ˜¯é¢¨'
};
let obj2 = {
    name: 'æ™‚é–“è·³èº'
};
fn.call(obj1)(); // fn thisæŒ‡å‘obj1,ç®­é ­å‡½æ•¸thisä¹ŸæŒ‡å‘obj1
fn.call(obj2)(); //fn this æŒ‡å‘obj2,ç®­é ­å‡½æ•¸thisä¹ŸæŒ‡å‘obj2
```

## è¤‡ç¿’


---
Status: #ğŸŒ± 
Tags:
[[React]]
Links:
[[JSï¼šexplicit binding æ˜¯ç›¸è¼ƒæ–¼implicit bindingè€Œè¨€ï¼Œè¼ƒç‚ºç›´æ¥ä¸”æ˜ç¢ºå‘ŠçŸ¥thisæ˜¯è¨­å®šä»€éº¼]]
[[new binding æ˜¯ç”±new operator ä¸»å°ä¾†å»ºç«‹ä¸€å€‹ç‰©ä»¶ä¸¦ä»¥æ­¤ç‰©ä»¶ä½œç‚ºç‰¹å®šå‡½å¼å‘¼å«çš„this]]
[[JSï¼šimplicit bindingï¼šä»¥æš—ç¤ºçš„æ–¹å¼ä¾†è¡¨é”this è¨­å®šæˆä»€éº¼ï¼Œlosing implicit binding æ˜¯æŒ‡åŸæœ¬æœƒè¢«åˆ¤å®šæˆimplicit bindingçš„bindingå› ç‚ºç‰¹å®šå› ç´ è€Œéºå¤±binding]]
References:
[[@readfogZhongJavaScriptDeBangDing]]