## æè¿°


### ç€è¦½å™¨å°æ–¼URLè®Šå‹•çš„é è¨­è™•ç†

ç€è¦½å™¨å°æ–¼URLè®Šå‹•çš„é è¨­è™•ç†æœƒæ˜¯
	- å‘å°æ‡‰ç«¯é»ç™¼é€æ–°çš„è«‹æ±‚ä¾†ç´¢æ±‚æ–°ç¶²é 


### SPA + routing å°æ–¼URLè®Šå‹•çš„è™•ç†

SPA + routing æœ¬èº«ä¾†èªªæœƒç›£è½URLè®Šå‹•ï¼Œè‹¥è®Šå‹•å°±å¾å®¢æˆ¶ç«¯çš„JS bundle å’Œ å¯¦é«”webpageæª”æ¡ˆä¾†ç”¢ç”Ÿå°æ‡‰çš„è™›æ“¬webpageé é¢ï¼Œä¸¦æ–¼ç€è¦½å™¨ç›´æ¥å‘ˆç¾ï¼Œåœ¨é€™è£¡ï¼Œå®¢æˆ¶ç«¯ä¸¦ä¸æœƒç‚ºäº†URLè€Œç´¢è¦å°æ‡‰çš„å¯¦é«”webpageé é¢

#### è‹¥è¦è¦ªè‡ªå¯¦ç¾çš„è©±
1. å¿…é ˆé—œé–‰ç€è¦½å™¨å°æ–¼URLè®Šå‹•çš„é è¨­è™•ç†
2. è¦æœ‰ç¨‹å¼æ¨¡çµ„è² è²¬ç›£è½URLè®Šå‹•ä»¥åŠæŒ‰è®Šå‹•å¾Œçš„URLä¾†ç”¢ç”Ÿå°æ‡‰çš„è™›æ“¬webpageã€‚


#### è‹¥è¦ä»¥èƒ½æä¾›routingåŠŸèƒ½çš„å¥—ä»¶

å…·é«”å¥—ä»¶ç‚ºreact-routerï¼š
- å¯¦ç¾client-side routing çš„ç¬¬ä¸‰æ–¹å¥—ä»¶
- å®‰è£æ–¹å¼ï¼š
	- å…¶ä¸­react-routeræœ¬èº«åˆ†ç‚ºreact-routerå’Œreact-router-domï¼Œå‰è€…æ˜¯è² è²¬æä¾›routerçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå¾Œè€…æ˜¯åŸºæ–¼å‰è€…çš„åŸºç¤ä¾†å‘DOMæ¸²æŸ“ä»‹é¢æä¾›å°æ‡‰routerçš„åŠŸèƒ½
```
npm install react-router-dom
```

## è¤‡ç¿’

#ğŸ§  ç€è¦½å™¨å°æ–¼URLè®Šå‹•æ™‚çš„é è¨­è™•ç†æœƒæ˜¯ä»€éº¼ï¼Ÿ ->->-> `å‘å°æ‡‰ç«¯é»ç™¼é€æ–°çš„è«‹æ±‚ä¾†ç´¢æ±‚æ–°ç¶²é `

#ğŸ§  Single-Page Application è‹¥è¦å¯¦ç¾Client-Side Routing çš„è©±ï¼Œå…·é«”æ¦‚å¿µæ˜¯ä»€éº¼ï¼Ÿï¼Ÿ ->->-> `SPA + routing æœ¬èº«ä¾†èªªæœƒç›£è½URLè®Šå‹•ï¼Œè‹¥è®Šå‹•å°±å¾å®¢æˆ¶ç«¯çš„JS bundle å’Œ å¯¦é«”webpageæª”æ¡ˆä¾†ç”¢ç”Ÿå°æ‡‰çš„è™›æ“¬webpageé é¢ï¼Œä¸¦æ–¼ç€è¦½å™¨ç›´æ¥å‘ˆç¾ï¼Œåœ¨é€™è£¡ï¼Œå®¢æˆ¶ç«¯ä¸¦ä¸æœƒç‚ºäº†URLè€Œç´¢è¦å°æ‡‰çš„å¯¦é«”webpageé é¢`

#ğŸ§  Single-Page Application è‹¥è¦å¯¦ç¾Client-Side Routing çš„è©±ï¼Œå…·é«”æ¦‚å¿µæ˜¯é€éJS bundle å’Œå¯¦é«”webpageæª”æ¡ˆä¾†ç”¢ç”Ÿå°æ‡‰çš„è™›æ“¬webpageé é¢ï¼Œé‚£éº¼è‹¥è¦å¯¦ç¾çš„è©±ï¼Œå¾—åšï¼Ÿ->->-> `1. å¿…é ˆé—œé–‰ç€è¦½å™¨å°æ–¼URLè®Šå‹•çš„é è¨­è™•ç† 2. è¦æœ‰ç¨‹å¼æ¨¡çµ„è² è²¬ç›£è½URLè®Šå‹•ä»¥åŠæŒ‰è®Šå‹•å¾Œçš„URLä¾†ç”¢ç”Ÿå°æ‡‰çš„è™›æ“¬webpageã€‚`

#ğŸ§  React ä¸Šçš„SPAé€šå¸¸æœƒä½¿ç”¨ä»€éº¼ä¾†å¯¦ç¾Client-Side Routing ï¼Ÿ ->->-> `react-router`

#ğŸ§  Reactçš„react-router æ˜¯ä»€éº¼ï¼Ÿ ->->-> `å¯¦ç¾client-side routing çš„ç¬¬ä¸‰æ–¹å¥—ä»¶`

#ğŸ§  Reactçš„react-router æ˜¯å®˜æ–¹å¥—ä»¶å—ï¼Ÿ ->->-> `ä¸æ˜¯ï¼Œç¬¬ä¸‰æ–¹å¥—ä»¶`


#ğŸ§  react-router å’Œ react-router-dom ä¹‹é–“é—œä¿‚æ˜¯ä»€éº¼ï¼Ÿ ->->-> `å‰è€…æ˜¯åŸåŒ…å«react-router-domçš„ç¨‹å¼æ¨¡çµ„ï¼Œå°ˆæ³¨æä¾›routeråŠŸèƒ½çµ¦èª¿ç”¨è€…ï¼Œè€Œreact-router-domæ˜¯å¾å‰è€…æŠ½é›¢å‡ºä¾†çš„domç‰ˆæœ¬å¯¦ç¾ä»£ç¢¼ï¼Œå°ˆé–€å‘¼å«å‰è€…ä¾†ç²å–å°æ‡‰åŠŸèƒ½çµ¦DOMä»‹é¢ã€‚`


#ğŸ§   react-router å’Œreact-router-dom æä¾›çš„åŠŸèƒ½æ˜¯ä»€éº¼ï¼Ÿ  ->->-> ` å…¶ä¸­react-routeræœ¬èº«åˆ†ç‚ºreact-routerå’Œreact-router-domï¼Œå‰è€…æ˜¯è² è²¬æä¾›routerçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå¾Œè€…æ˜¯åŸºæ–¼å‰è€…çš„åŸºç¤ä¾†å‘DOMæ¸²æŸ“ä»‹é¢æä¾›å°æ‡‰routerçš„åŠŸèƒ½`


#ğŸ§  ç›®å‰å·²ä½¿ç”¨react-routerä¾†å¯¦ç¾welcomeå’Œproductsé€™å…©å€‹è™›æ“¬webpageï¼Œè«‹å•ç›®å‰ç•«é¢æœ‰å¸¶ä¾†ä»€éº¼æ¨£çš„æ•ˆèƒ½å•é¡Œï¼Ÿ![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1667047396/blog/react/react-router/react-router-wrong-example-with-anchor-element_fybsto.png) ->->-> ``


#ğŸ§  ç€è¦½å™¨å°æ–¼anchor æ¨™ç±¤çš„é»æ“Šäº‹ä»¶è™•ç†ï¼šå°ç‰¹å®šé é¢ç«¯é»ç™¼é€è«‹æ±‚ä¾†ç´¢è¦å…¨æ–°çš„webpageï¼Œé€™æœƒå¼•ç™¼Reactä¸å¿…è¦çš„unmountå’Œmountï¼Œè«‹å•è§£æ±ºæ–¹æ³•æœ‰ä»€éº¼ï¼Ÿ ->->-> `- è¨­å®šé»æ“Šäº‹ä»¶ï¼Œä¸¦å–æ¶ˆæ‰å°æ‡‰çš„é è¨­è™•ç†ï¼Œæ¥è‘—å†ä»¥è‡ªå·±é æœŸçš„çµæœä¾†å¯¦ç¾ - ä½¿ç”¨react-router-domçš„Link component`

#ğŸ§  react-router-dom Link æ˜¯ä»€éº¼ï¼Ÿ ->->-> ` æ˜¯ä¸€å€‹componentï¼Œæä¾›hyperlinkåŠŸèƒ½çš„component`

#ğŸ§  react-router-dom Link æœ¬è³ªæ˜¯ä»€éº¼DOMç¯€é»è€Œæ§‹æˆï¼Ÿï¼Ÿ ->->-> `æœ¬è³ªä¸Šä»æ˜¯\<a\>æ¨™ç±¤æ‰€æ§‹æˆ`

#ğŸ§  react-router-dom Link æœ¬è³ªä¸Šä»æ˜¯\<a\>æ¨™ç±¤æ‰€æ§‹æˆï¼Œé‚£éº¼å®ƒè¦å¦‚ä½•è§£æ±ºReactä¸å¿…è¦çš„unmountå’Œmountï¼Ÿ->->-> `å…¶é»æ“Šäº‹ä»¶è™•ç†æœƒç”±react-router-domä¾†è¨­å®šçš„é»æ“Šäº‹ä»¶è™•ç†ï¼Œè™•ç†æœƒæœ‰ï¼š - å–æ¶ˆç€è¦½å™¨å°æ–¼é»æ“Šäº‹ä»¶çš„é è¨­è™•ç†  - å†ä»¥é é¢1å’Œé é¢2é–“DOMç¯€é»å·®ç•°ä¾†å¾é é¢1åˆ‡æ›æˆé é¢2`

#ğŸ§  react-router-dom Link èªæ³•æ˜¯ä»€éº¼ï¼Ÿ ->->-> `<Link to="xxxx">xxxx1</Link>`

#ğŸ§  react-router-dom Link è¦å¦‚ä½•è¼‰å…¥ï¼Ÿ ->->-> `import { Link } from 'react-router-dom';`

#ğŸ§  react-router-dom Link ï¼š\<Link to="xxxx"\>xxxx1\<\/Link\> ä¸­çš„ to å’Œ xxxx1æ˜¯ä»€éº¼->->-> `	- to ï¼š è¦å°å‘çš„é é¢ä½ç½®/ç¶²å€ - xxxx1ï¼šç‚ºè¢«ç¶å®šç¶²å€/ä½ç½®çš„hypertext`

#ğŸ§  ![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1667047396/blog/react/react-router/react-router-wrong-example-with-anchor-element_fybsto.png) ->->-> ``





---
Status: #ğŸŒ± 
Tags:
[[React]]
Links:
[[client-side routing ä¸»è¦æ˜¯ç”±å®¢æˆ¶ç«¯è‡ªå·±æ ¹æ“šç€è¦½å™¨çš„URLè®Šå‹•ä¾†ç”¢ç”Ÿå°æ‡‰çš„webpageæä¾›ç•«é¢å’Œæœå‹™ï¼›server-side routing ä¸»è¦ç”±ä¼ºæœå™¨æ ¹æ“šç€è¦½å™¨çš„URLè®Šå‹•ä¾†ç”¢ç”Ÿå°æ‡‰çš„webpageæä¾›ç•«é¢å’Œæœå‹™]]
[[SPA æœªä½¿ç”¨Routing æŠ€è¡“æœƒæœ‰çš„ç¾è±¡ï¼šä¸ç®¡æˆ‘å€‘ä½¿ç”¨å“ªäº›æœå‹™æˆ–è€…ç€è¦½å“ªäº›é é¢ï¼ŒURLéƒ½ä¸æœƒæ”¹è®Šï¼Œé€™äº›æœå‹™å’Œé é¢éƒ½å…±äº«è‘—åŒä¸€å€‹URLã€‚]]
References:
[[@reactrouterFeatureOverviewV6]]