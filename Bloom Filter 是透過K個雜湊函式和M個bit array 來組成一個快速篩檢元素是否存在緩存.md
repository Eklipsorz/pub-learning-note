## æè¿°

[[@wikidataBuLongGuoLuQi2021]]æ‰€æè¿°ï¼š

> å¸ƒéš†éæ¿¾å™¨çš„åŸç†æ˜¯ï¼Œç•¶ä¸€å€‹å…ƒç´ è¢«åŠ å…¥é›†åˆæ™‚ï¼Œé€šéKå€‹[é›œæ¹Šå‡½å¼](https://zh.wikipedia.org/wiki/%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B0 "é›œæ¹Šå‡½å¼")å°‡é€™å€‹å…ƒç´ å°æ˜ æˆä¸€å€‹ä½[é™£åˆ—](https://zh.wikipedia.org/wiki/%E6%95%B0%E7%BB%84 "é™£åˆ—")ä¸­çš„Kå€‹é»ï¼ŒæŠŠå®ƒå€‘ç½®ç‚º1ã€‚æª¢ç´¢æ™‚ï¼Œæˆ‘å€‘åªè¦çœ‹çœ‹é€™äº›é»æ˜¯ä¸æ˜¯éƒ½æ˜¯1å°±ï¼ˆå¤§ç´„ï¼‰çŸ¥é“é›†åˆä¸­æœ‰æ²’æœ‰å®ƒäº†ï¼šå¦‚æœé€™äº›é»æœ‰ä»»ä½•ä¸€å€‹0ï¼Œå‰‡è¢«æª¢å…ƒç´ ä¸€å®šä¸åœ¨ï¼›å¦‚æœéƒ½æ˜¯1ï¼Œå‰‡è¢«æª¢å…ƒç´ å¾ˆå¯èƒ½åœ¨ã€‚é€™å°±æ˜¯å¸ƒéš†éæ¿¾å™¨çš„åŸºæœ¬æ€æƒ³ã€‚

é‡é»ç‚ºï¼š
- Bloom Filter æœƒä½¿ç”¨Kå€‹é›œæ¹Šå‡½å¼å’ŒMå€‹ä½ç½®ç‚ºä¸»çš„bit arrayï¼Œbit array ä¸Šçš„æ¯å€‹ä½ç½®éƒ½æœƒæ˜¯0
- ç•¶ä¸€å€‹å°‡è¦åŠ å…¥é›†åˆçš„å…ƒç´ Aå‰æœƒå…ˆé€éKå€‹é›œæ¹Šå‡½å¼(å°‡å…ƒç´ è½‰ç‚ºæ•¸å€¼)ä¾†è¼¸å‡ºå°æ‡‰ä½ç½®ï¼Œå…¶ä½ç½®æœƒæ˜¯bit arrayä¸Šçš„ä½ç½®ï¼Œåœ¨è©²ä½ç½®è¨­å®šç‚º1
- ç•¶è¦æŸ¥è©¢å…ƒç´ Aæ˜¯å¦åœ¨é›†åˆä¸­ï¼Œå°±ç”¨åŒæ¨£çš„Kå€‹é›œæ¹Šå‡½å¼å°å…ƒç´ Aä¾†è½‰æ›è¼¸å‡ºä½ç½®ï¼Œçœ‹ä½ç½®æ˜¯çš„bitæ˜¯å¦éƒ½çš†ç‚º1ï¼Œè‹¥éƒ½ç‚º1å°±æ˜¯ä»£è¡¨å…ƒç´ Aå¾ˆæœ‰å¯èƒ½åœ¨é›†åˆï¼Œè‹¥æœ‰ä»»ä½•ä¸€å€‹0ï¼Œå‰‡è¡¨ç¤ºå…ƒç´ Aè‚¯å®šä¸åœ¨ã€‚

### æ¡ˆä¾‹

[[@kadaiZiLiaoJieGouDaBianDangBloomFilter2019]] æ‰€æè¿°çš„ï¼š

> Bloom Filter æœ‰å…©å€‹è¦ç´ ï¼šé•·åº¦ç‚º n çš„ bit array å’Œ m å€‹ç¨ç«‹çš„ hash functionï¼Œç•¶è¦å¯«å…¥è³‡æ–™ï¼ˆxï¼‰çš„æ™‚å€™ï¼Œç”¨æ‰€æœ‰çš„ hash function å° x é€²è¡Œ hash å¾Œ mod n å¾—åˆ° m å€‹ä½ç½®ï¼ŒæŠŠ bit array é€™äº›ä½ç½®çš„ bit è¨­ç‚º 1ï¼Œå°±å®Œæˆäº†ä¸€æ¬¡å¯«å…¥ã€‚

> åœ–ç‰‡ä¸­çš„ä¾‹å­æ˜¯ m = 3  
> X, Y, Z éƒ½æ˜¯ intï¼Œä½œç‚º index å»è¨­å®š bit array çš„å€¼

![](https://miro.medium.com/max/1400/1*AJqhuLfXgGhE8h1_F5VLZg.jpeg)
> æŸ¥è©¢ä¹Ÿæ˜¯åŒæ¨£çš„æµç¨‹åœ¨å¾—åˆ° m å€‹ä½ç½®ä¹‹å¾Œï¼Œå» bit array å–å‡ºç›¸å°æ‡‰çš„å€¼ï¼Œå¦‚æœå…¨éƒ½æ˜¯ 1 çš„è©±å°±ä»£è¡¨é›†åˆä¸­æœ‰é€™å€‹å…ƒç´ ï¼Œå°±å¯ä»¥ç¢ºèªé€™å€‹è³‡æ–™ä¹‹å‰æ›¾ç¶“å‡ºç¾éã€‚


### å„ªé»
> ç›¸æ¯”æ–¼å…¶å®ƒçš„è³‡æ–™çµæ§‹ï¼Œå¸ƒéš†éæ¿¾å™¨åœ¨ç©ºé–“å’Œæ™‚é–“æ–¹é¢éƒ½æœ‰å·¨å¤§çš„å„ªå‹¢ã€‚å¸ƒéš†éæ¿¾å™¨å„²å­˜ç©ºé–“å’Œæ’å…¥/æŸ¥è©¢æ™‚é–“éƒ½æ˜¯å¸¸æ•¸O(K)

é‡é»ï¼š
- å„ªé»æ˜¯ç©ºé–“è¤‡é›œåº¦æœƒæ˜¯O(M)ï¼Œè€Œæ™‚é–“è¤‡é›œåº¦æœƒæ˜¯O(K)ï¼Œå…©è€…çš†ç‚ºå¸¸æ•¸æ™‚é–“ã€‚
- ç›¸è¼ƒæ–¼å…¶ä»–å¤§éƒ¨åˆ†å¸¸è¦‹æ–¹å¼ï¼Œå¦‚hashï¼Œé€™æ–¹æ³•è¼ƒç‚ºå¿«é€Ÿä¸”çœç©ºé–“

### ç¼ºé»
> ä½†æ˜¯å¸ƒéš†éæ¿¾å™¨çš„ç¼ºé»å’Œå„ªé»ä¸€æ¨£æ˜é¡¯ã€‚èª¤ç®—ç‡æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚éš¨è‘—å­˜å…¥çš„å…ƒç´ æ•¸é‡å¢åŠ ï¼Œèª¤ç®—ç‡éš¨ä¹‹å¢åŠ ã€‚ä½†æ˜¯å¦‚æœå…ƒç´ æ•¸é‡å¤ªå°‘ï¼Œå‰‡ä½¿ç”¨é›œæ¹Šè¡¨è¶³çŸ£ã€‚

> å¦å¤–ï¼Œä¸€èˆ¬æƒ…æ³ä¸‹ä¸èƒ½å¾å¸ƒéš†éæ¿¾å™¨ä¸­åˆªé™¤å…ƒç´ ã€‚æˆ‘å€‘å¾ˆå®¹æ˜“æƒ³åˆ°æŠŠä½é™£åˆ—è®Šæˆæ•´æ•¸é™£åˆ—ï¼Œæ¯æ’å…¥ä¸€å€‹å…ƒç´ ç›¸æ‡‰çš„è¨ˆæ•¸å™¨åŠ 1, é€™æ¨£åˆªé™¤å…ƒç´ æ™‚å°‡è¨ˆæ•¸å™¨æ¸›æ‰å°±å¯ä»¥äº†ã€‚ç„¶è€Œè¦ä¿è­‰å®‰å…¨åœ°åˆªé™¤å…ƒç´ ä¸¦éå¦‚æ­¤ç°¡å–®ã€‚é¦–å…ˆæˆ‘å€‘å¿…é ˆä¿è­‰åˆªé™¤çš„å…ƒç´ çš„ç¢ºåœ¨å¸ƒéš†éæ¿¾å™¨è£¡é¢ã€‚é€™ä¸€é»å–®æ†‘é€™å€‹éæ¿¾å™¨æ˜¯ç„¡æ³•ä¿è­‰çš„ã€‚å¦å¤–è¨ˆæ•¸å™¨è¿´ç¹ä¹Ÿæœƒé€ æˆå•é¡Œã€‚

é‡é»ï¼š
- ç¼ºé»æ˜¯ä»¥æº–ç¢ºåº¦ä¾†æ›å–ä¸€å®šç¨‹åº¦çš„é€Ÿåº¦å’Œçœç©ºé–“ ä»¥åŠ é›£ä»¥æ›´æ–°å¾é›†åˆä¸­ç§»é™¤å…ƒç´ çš„æƒ…æ³ä¸‹çš„bit arrayï¼Œç•¢ç«Ÿå¾—ä¿è­‰åˆªé™¤å…ƒç´ å¾—è¦èƒ½å¤ åœ¨bloolm filterï¼Œä½†èª¤åˆ¤ç¼ºé»é›£ä»¥ä¿è­‰

## è¤‡ç¿’
#ğŸ§  Bloom Filter æ˜¯ä»€éº¼ï¼Ÿè«‹ç•«åœ–èªªæ˜å§->->-> `æœƒä½¿ç”¨Kå€‹é›œæ¹Šå‡½å¼å’ŒMå€‹ä½ç½®ç‚ºä¸»çš„bit arrayï¼Œbit array ä¸Šçš„æ¯å€‹ä½ç½®éƒ½æœƒæ˜¯0ï¼Œç•¶ä¸€å€‹å°‡è¦åŠ å…¥é›†åˆçš„å…ƒç´ Aå‰æœƒå…ˆé€éKå€‹é›œæ¹Šå‡½å¼(å°‡å…ƒç´ è½‰ç‚ºæ•¸å€¼)ä¾†è¼¸å‡ºå°æ‡‰ä½ç½®ï¼Œå…¶ä½ç½®æœƒæ˜¯bit arrayä¸Šçš„ä½ç½®ï¼Œåœ¨è©²ä½ç½®è¨­å®šç‚º1ï¼Œç•¶è¦æŸ¥è©¢å…ƒç´ Aæ˜¯å¦åœ¨é›†åˆä¸­ï¼Œå°±ç”¨åŒæ¨£çš„Kå€‹é›œæ¹Šå‡½å¼å°å…ƒç´ Aä¾†è½‰æ›è¼¸å‡ºä½ç½®ï¼Œçœ‹ä½ç½®æ˜¯çš„bitæ˜¯å¦éƒ½çš†ç‚º1ï¼Œè‹¥éƒ½ç‚º1å°±æ˜¯ä»£è¡¨å…ƒç´ Aå¾ˆæœ‰å¯èƒ½åœ¨é›†åˆï¼Œè‹¥æœ‰ä»»ä½•ä¸€å€‹0ï¼Œå‰‡è¡¨ç¤ºå…ƒç´ Aè‚¯å®šä¸åœ¨`

#ğŸ§  Bloom Filter å„ªé»æ˜¯ä»€éº¼ï¼Ÿ ->->-> `å„ªé»æ˜¯ç©ºé–“è¤‡é›œåº¦æœƒæ˜¯O(M)ï¼Œè€Œæ™‚é–“è¤‡é›œåº¦æœƒæ˜¯O(K)ï¼Œå…©è€…çš†ç‚ºå¸¸æ•¸æ™‚é–“ã€ç›¸è¼ƒæ–¼å…¶ä»–å¤§éƒ¨åˆ†å¸¸è¦‹æ–¹å¼ï¼Œå¦‚hashï¼Œé€™æ–¹æ³•è¼ƒç‚ºå¿«é€Ÿä¸”çœç©ºé–“`

#ğŸ§  Bloom Filter ç¼ºé»æ˜¯ä»€éº¼ï¼Ÿ ->->-> `ä»¥æº–ç¢ºåº¦ä¾†æ›å–ä¸€å®šç¨‹åº¦çš„é€Ÿåº¦å’Œçœç©ºé–“ ä»¥åŠ é›£ä»¥æ›´æ–°å¾é›†åˆä¸­ç§»é™¤å…ƒç´ çš„æƒ…æ³ä¸‹çš„bit arrayï¼Œç•¢ç«Ÿå¾—ä¿è­‰åˆªé™¤å…ƒç´ å¾—è¦èƒ½å¤ åœ¨bloolm filterï¼Œä½†èª¤åˆ¤ç¼ºé»é›£ä»¥ä¿è­‰`


---
Status: #ğŸŒ± 
Tags:
[[Algorithm]] - [[Hash]]
Links:
References:
[[@wikidataBuLongGuoLuQi2021]]
[[@kadaiZiLiaoJieGouDaBianDangBloomFilter2019]]