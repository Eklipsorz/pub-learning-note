
## æè¿°
å¼•ç”¨[[@ibmDatabaseCursorIBM]]æ‰€æè¿°çš„Database cursorï¼š
> A database cursor is an identifier associated with a group of rows. It is, in a sense, a pointer to the current row in a buffer.

> You must use a cursor in the following cases:Â 

> -   Statements that return more than one row of data from the database server:
	>    -   A SELECT statement requires a select cursor.
	>    -   An EXECUTE FUNCTION statement requires a function cursor.

é‡é»ï¼š
- cursor åŸæ„ç‚ºä¸€å€‹å°å‹æ¨™è¨˜ï¼Œèƒ½å¤ åœ¨é›»è…¦è¢å¹•ä¸Šæ»‘å‹•ä¸¦å‘ˆç¾å®ƒåœ¨è¢å¹•ä¸Šçš„æ‰€åœ¨ï¼Œæ›è¨€ä¹‹ï¼Œå°±æ˜¯é€éæ»‘å‹•ä¾†æ”¹è®Šè¢å¹•ç•«é¢(å¦‚å¯¦æ™‚æ›´æ–°æ¨™è¨˜åœ¨è¢å¹•ä¸Šçš„ä½ç½®)çš„æ¨™è¨˜
> a small mark on a computer screen that can be moved and that shows the position on the screen where, for example, text will be added

- å¥—ç”¨åœ¨é›»è…¦ç§‘å­¸ä¸Šçš„è³‡æ–™åº«ï¼Œå°±æ˜¯ç”¨æ»‘å‹•è³‡æ–™ä¾†æ”¹è®Šé¡¯ç¤ºè³‡æ–™çš„å…ƒä»¶ï¼Œæ›è¨€ä¹‹ï¼Œå°‡åŸè³‡æ–™æŒ‰ç…§æŒ‡å®šæ•¸é‡ä¾†åˆ†æˆå¥½å¹¾å€‹ç¾¤çµ„ï¼Œä¸¦çµ¦äºˆcursorç·¨è™Ÿï¼Œä¾†æ–¹ä¾¿é€éç·¨è™Ÿé€²è¡Œä¸Šä¸‹å·¦å³çš„ç§»å‹•ä¾†æ”¹è®Šå¯¦éš›æœƒé¡¯ç¤ºçš„è³‡æ–™
- å…·é«”ä¾†èªªï¼Œæœƒå°‡é€£çºŒè³‡æ–™æŒ‰ç…§æŒ‡å®šæ•¸é‡ä¾†åˆ‡åˆ†æˆå¥½å¹¾çµ„è³‡æ–™é›†åˆï¼Œæ¯å€‹è³‡æ–™é›†åˆéƒ½æœƒæ‹¿åˆ°cursorï¼Œç•¶è¦å­˜å–ç‰¹å®šé›†åˆä¸Šçš„è³‡æ–™ï¼Œåªéœ€è¦æŒ‡å®šcursorå°±èƒ½ç²å–å°æ‡‰é›†åˆè³‡æ–™
- cursoræœ¬èº«æœƒæ˜¯ä»¥æ•¸å­—ä¾†è¡¨ç¤ºï¼Œè€Œæ•¸å­—çš„åˆ¶å®šæ–¹å¼å‰‡åˆ†ç‚º
	- äº‹å…ˆå®šç¾©å¥½çš„éœæ…‹æŒ‡æ¨™ çš„ Static Cursor
	- å‹•æ…‹ä¾æ“šè³‡æ–™çš„ç‹€æ³ä¾†åˆ¶å®š çš„ Dynamic Cursor
	- æ¯å€‹é›†åˆä¸Šæ‰€æ‹¿åˆ°çš„Cursorä¸ä¸€å®šæ˜¯é€£çºŒæ€§çš„æ•¸å­—ã€‚

### ç”¨é€”
ä¸»è¦æ˜¯é€écursorç·¨è™Ÿçš„çµ¦å®šï¼Œä¾†é‡å°ç‰¹å®šè³‡æ–™åšä¸€äº›ä¿®æ”¹å’Œå­˜å–

### èˆ‰ä¾‹
å‡è¨­ä½¿ç”¨ç‰¹å®šèªæ³•ä¾†ç²å–ä¸‹åœ–å·¦åŠé‚Šçš„è³‡æ–™ï¼Œè‹¥ä½¿ç”¨database cursorè·Ÿç‰¹å®šæ•¸å­—3çš„è©±ï¼Œå°±æœƒå°‡çµæœè³‡æ–™æŒ‰ç…§3å€‹è³‡æ–™ä¾†å°‡åŸè³‡æ–™åˆ†æˆ4å€‹é›†åˆï¼ŒåŒæ™‚æ¯å€‹é›†åˆæœƒç¶å®šcursorä¾†ä»£è¡¨è‡ªå·±ï¼Œæ¯”å¦‚æŒ‡å®šcursor 4å°±æ˜¯å­˜å–å°æ‡‰çš„é›†åˆ 
![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1654340797/blog/database/database%20cursor/database-cursor-diagram_txvrxc.png)


## è¤‡ç¿’
#ğŸ§   cursor åŸæ„ç‚ºä½•ï¼Ÿ ->->-> `èƒ½å¤ åœ¨é›»è…¦è¢å¹•ä¸Šæ»‘å‹•ä¸¦å‘ˆç¾å®ƒåœ¨è¢å¹•ä¸Šçš„æ‰€åœ¨ï¼Œæ›è¨€ä¹‹ï¼Œå°±æ˜¯é€éæ»‘å‹•ä¾†æ”¹è®Šè¢å¹•ç•«é¢(å¦‚å¯¦æ™‚æ›´æ–°æ¨™è¨˜åœ¨è¢å¹•ä¸Šçš„ä½ç½®)çš„æ¨™è¨˜`

#ğŸ§  cursor åŸæ„å¥—ç”¨åœ¨é›»è…¦ç§‘å­¸ä¸Šçš„è³‡æ–™åº«æœƒæ˜¯æŒ‡ï¼Ÿ->->-> `å¥—ç”¨åœ¨é›»è…¦ç§‘å­¸ä¸Šçš„è³‡æ–™åº«ï¼Œå°±æ˜¯ç”¨æ»‘å‹•è³‡æ–™ä¾†æ”¹è®Šé¡¯ç¤ºè³‡æ–™çš„å…ƒä»¶ï¼Œæ›è¨€ä¹‹ï¼Œå°‡åŸè³‡æ–™æŒ‰ç…§æŒ‡å®šæ•¸é‡ä¾†åˆ†æˆå¥½å¹¾å€‹ç¾¤çµ„ï¼Œä¸¦çµ¦äºˆcursorç·¨è™Ÿï¼Œä¾†æ–¹ä¾¿é€éç·¨è™Ÿé€²è¡Œä¸Šä¸‹å·¦å³çš„ç§»å‹•ä¾†æ”¹è®Šå¯¦éš›æœƒé¡¯ç¤ºçš„è³‡æ–™`

#ğŸ§  database cursor æœƒæ˜¯ä»¥ä»€éº¼å‹åˆ¥ä½œç‚ºæ¯å€‹ç¾¤çµ„çš„è­˜åˆ¥å­— ->->-> `æ•¸å­—`

#ğŸ§  database cursor ç”¨é€”ç‚ºä½•->->-> `ä¸»è¦æ˜¯é€écursorç·¨è™Ÿçš„çµ¦å®šï¼Œä¾†é‡å°ç‰¹å®šè³‡æ–™åšä¸€äº›ä¿®æ”¹å’Œå­˜å–`

#ğŸ§  database cursorä»¥æ•¸å­—ä¾†çµ¦å®šçš„è©±ï¼Œé‚£éº¼æ•¸å­—çš„çµ¦å®šæ–¹å¼æœƒæ˜¯å“ªäº›(æç¤º:staticå’Œdynamic)->->-> `äº‹å…ˆå®šç¾©å¥½çš„éœæ…‹æŒ‡æ¨™ çš„ Static Cursorã€å‹•æ…‹ä¾æ“šè³‡æ–™çš„ç‹€æ³ä¾†åˆ¶å®š çš„ Dynamic Cursor`


#ğŸ§  database cursorä»¥æ•¸å­—ä¾†çµ¦å®šçš„è©±ï¼Œé‚£éº¼æ•¸å­—çš„çµ¦å®šæ–¹å¼é¢å°ä»¥ä¸‹åœ–çš„å³é‚Šï¼Œå…¶cursor1è‡³cursor4é€™å››å€‹æ•¸å­—æœƒæ˜¯é€£çºŒæ€§æ•¸å­—å—![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1654340797/blog/database/database%20cursor/database-cursor-diagram_txvrxc.png)->->->`ä¸ä¸€å®š`

---
Status: #ğŸŒ± 
Tags:
[[Database]] - [[Redis]] - [[Database Cursor]]
Links:
[[Redis Scan æ˜¯æŒ‰ä¾æ“šæ•¸é‡ä¾†å°è³‡æ–™åº«çš„è³‡æ–™ä¾†åˆ†é ä¸¦ä¸”æä¾›é–‹ç™¼è€…ä»¥æŒ‡å®šcursorä¾†å°å‘å°æ‡‰çš„è³‡æ–™ç¾¤çµ„]]
References:
[[@ibmDatabaseCursorIBM]]
[[@wikidataZhiBiaoZiLiaoKuWeiJiBaiKe]]
