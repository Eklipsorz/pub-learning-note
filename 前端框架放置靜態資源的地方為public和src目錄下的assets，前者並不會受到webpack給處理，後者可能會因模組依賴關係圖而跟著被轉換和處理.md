## æè¿°
[[@_hiderReactShiYongGongGongWenJianJiapublic]] æè¿°ï¼š
> åœ¨åˆšå­¦`React/Vue`çš„æ—¶å€™ï¼Œé…åˆ`webpack`è„šæ‰‹æ¶å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œç¢°åˆ°ä¸€ä¸ªé—®é¢˜ä¼šéå¸¸ç–‘æƒ‘ï¼Œæ¯”å¦‚åœ¨`React`ä¸­æœ‰ä¸ª`Public`æ–‡ä»¶å¤¹å¯ä»¥æ”¾é™æ€èµ„æºï¼Œä½†æ˜¯åœ¨`src`ç›®å½•ä¸­åŒæ ·æœ‰ä¸ª`assets`æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªåŒæ ·ä¹Ÿæ˜¯æ”¾é™æ€èµ„æºçš„ï¼Œè¿™ä¸ªå°±å¾ˆå›°æƒ‘äº†ï¼Œä¸ºä½•æ”¾ç½®é™æ€èµ„æºçš„åœ°æ–¹ä¼šæœ‰ä¸¤ä¸ªï¼Ÿ


> ä¸¤è€…åŒºåˆ«

> å…¶å®æ”¾åœ¨ä¸¤ä¸ªæ–‡ä»¶å¤¹åŒºåˆ«å°±åœ¨äºæ˜¯å¦ä¼šè¢«webpackæ‰€å¤„ç†ï¼Œå¦‚æœæ‚¨å°†æ–‡ä»¶æ”¾å…¥è¯¥publicæ–‡ä»¶å¤¹ï¼Œwebpack å°†ä¸ä¼šå¤„ç†å®ƒï¼Œåœ¨ä½ æ‰“åŒ…çš„æ—¶å€™ï¼Œä¼šå°†publicæ–‡ä»¶å¤¹ç›´æ¥å¤åˆ¶ä¸€ä»½åˆ°ä½ æ„å»ºå‡ºæ¥çš„æ–‡ä»¶å¤¹ä¸­ã€‚è€Œsrc/assetsç›®å½•çš„æ–‡ä»¶ï¼ˆå‰æä½ åœ¨jsä¸­æœ‰å¼•å…¥ï¼‰ï¼Œå®ƒä¼šè¢«webpackç¼–è¯‘ï¼Œæ¯”å¦‚å›¾ç‰‡ï¼Œå¦‚æœä½ çš„å›¾ç‰‡å°äºä½ åœ¨webpackä¸­çš„loaderä¸‹è®¾ç½®çš„limitå¤§å°ï¼ˆå¯é…ç½®ï¼‰ï¼Œå®ƒä¼šè¢«ç¼–è¯‘æˆbase64ï¼Œä»è€Œåœ¨å®é™…é¡¹ç›®ä¸­å‡å°‘httpè¯·æ±‚ï¼Œæ”¾ç½®åœ¨src/assetsç›®å½•æœ‰ä»¥ä¸‹å‡ ç‚¹å¥½å¤„ï¼š

    è„šæœ¬å’Œæ ·å¼è¡¨è¢«ç¼©å°å¹¶æ†ç»‘åœ¨ä¸€èµ·ä»¥é¿å…é¢å¤–çš„ç½‘ç»œè¯·æ±‚ã€‚
    ç¼ºå°‘æ–‡ä»¶ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œè€Œä¸æ˜¯ç”¨æˆ·çš„404é”™è¯¯ã€‚
    ç»“æœæ–‡ä»¶ååŒ…å«å†…å®¹å“ˆå¸Œï¼Œå› æ­¤æ‚¨æ— éœ€æ‹…å¿ƒæµè§ˆå™¨ç¼“å­˜æ—§ç‰ˆæœ¬ã€‚

> å½“ç„¶ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå…¬å…±æ–‡ä»¶å¤¹publicè¿˜æ˜¯æœ‰å®ƒçš„ä½œç”¨çš„ï¼Œå¦‚æœä½ å¸Œæœ›ä½ çš„æ–‡ä»¶ä¸è¢«ç¼–è¯‘ï¼Œæ¯”å¦‚jquery.min.jsï¼Œæˆ–è€…å‹ç¼©å¥½çš„jsæ’ä»¶ç­‰ï¼Œä½ å°±å¯ä»¥æŠŠæ–‡ä»¶æ”¾åœ¨publicæ–‡ä»¶å¤¹ä¸­ï¼Œè¿™æ ·è¿˜å¯ä»¥å‡å°‘æ–‡ä»¶æ„å»ºæ—¶é—´ï¼Œå¯ä»¥å‡å°‘æ„å»ºæ–‡ä»¶çš„å¤§å°ã€‚æ¢è¿‡æ¥æƒ³ï¼Œå¦‚æœä½ æŠŠæ‰€æœ‰é™æ€èµ„æºå…¨éƒ¨æ”¾åœ¨assetsæ–‡ä»¶å¤¹ä¸­ï¼Œä½ ä¼šå‘ç°æœ€åæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å¾ˆå¤§ï¼Œå¯¼è‡´é¦–é¡µç™½å±æ—¶é—´è¿‡é•¿ï¼Œæ‰€ä»¥ï¼Œä½ å¯ä»¥æŠŠä¸€äº›ä¸ä¼šæ”¹åŠ¨çš„é™æ€æ–‡ä»¶æ”¾åˆ°publicä¸­ã€‚


##### åœ¨[React](https://so.csdn.net/so/search?q=React&spm=1001.2101.3001.7020)ä¸­ä½¿ç”¨å…¬å…±æ–‡ä»¶å¤¹public

> å¦‚æœåœ¨`index.html`ä¸­ï¼Œä½ å¯ä»¥åƒè¿™æ ·å»ä½¿ç”¨å®ƒï¼š

```
<img src="ï¼…PUBLIC_URL%/image/poster.jpeg" alt="">
```


> åªæœ‰å‰ç¼€`public`å¯ä»¥è®¿é—®æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶`%PUBLIC_URL%`ã€‚å¦‚æœéœ€è¦ä½¿ç”¨`src`æˆ–ä¸­çš„æ–‡ä»¶`node_modules`ï¼Œåˆ™å¿…é¡»å°†å…¶å¤åˆ¶åˆ°é‚£é‡Œä»¥æ˜ç¡®æŒ‡å®šå°†æ­¤æ–‡ä»¶ä½œä¸ºæ„å»ºçš„ä¸€éƒ¨åˆ†çš„æ„å›¾ã€‚  
>
> å½“è¿è¡Œ`npm run build`ï¼Œ`Create React App`å°†æ›¿æ¢`%PUBLIC_URL%`ä¸ºæ­£ç¡®çš„ç»å¯¹è·¯å¾„ï¼Œå› æ­¤å³ä½¿ä½¿ç”¨å®¢æˆ·ç«¯è·¯ç”±æˆ–å°†å…¶æ‰˜ç®¡åœ¨éæ ¹`URL`ä¸Šï¼Œé¡¹ç›®ä¹Ÿä¼šæ­£å¸¸å·¥ä½œã€‚  
> 
> åœ¨`JavaScript`ä»£ç ä¸­ï¼Œå¯ä»¥`process.env.PUBLIC_URL`å‡ºäºç±»ä¼¼ç›®çš„ä½¿ç”¨ï¼š

```
render() {
	return <img src={process.env.PUBLIC_URL + '/img/logo.png'} />;
}
```


é‡é»ï¼š
- å‰ç«¯æ¡†æ¶æ”¾ç½®éœæ…‹è³‡æºçš„åœ°æ–¹ï¼špublic/ å’Œ src/assets/
- webpack æœƒä»¥srcç›®éŒ„ä¸‹çš„è³‡æºä¾†åšè™•ç†ï¼Œè‹¥å°‡éœæ…‹è³‡æºæ”¾ç½®åœ¨src/assets/ç›®éŒ„ä¸‹ï¼ŒæœƒæŒ‰ç…§webpackä¾†åšè½‰æ›å’Œè™•ç†ï¼Œæ¯”å¦‚
	- åœ–ç‰‡æœƒå£“ç¸®
	- CSSæœƒè¢«é€²è¡Œè½‰è­¯ã€å„ªåŒ–ã€é€²è¡Œå¾Œè£½
- è‹¥å°‡éœæ…‹è³‡æºæ”¾ç½®åœ¨publicä¸‹ï¼Œä¸¦ä¸æœƒè¢«webpackæ‰€è™•ç†ï¼Œæœƒè¢«webpackè¤‡è£½è©²ç›®éŒ„ä¾†ä¿æŒåŸæª”æ¡ˆ
- éœæ…‹è³‡æºå­˜æ”¾ä½ç½®ç­–ç•¥ï¼š
	- è‹¥éœæ…‹è³‡æºæ˜¯å·²ç¶“åšå®Œå„ªåŒ–ã€å£“ç¸®å¥½çš„JS/CSSï¼Œå°±å¯ä»¥ç›´æ¥æ”¾ç½®public
	- è‹¥éœæ…‹è³‡æºæ˜¯éœ€è¦åšå„ªåŒ–ä¸”åŒ…å«åœ¨entryç‚ºä¸»çš„ä¾è³´é—œä¿‚åœ–ä¸­çš„è©±ï¼Œé‚£éº¼å°±æ”¾ç½®src/assets
 - éœæ…‹è³‡æºæ”¾ç½®åœ¨src/assetsçš„å¥½è™•ç‚ºï¼š
	 - è‹¥ç¼ºå°‘æ–‡ä»¶çš„è©±ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€æ™‚é–“æ‰¾åˆ°å•é¡Œä¾†è§£æ±º
	 - æ¸›å°‘é¡å¤–è³‡æºçš„è«‹æ±‚æ•¸ï¼šå°‡å¤šå€‹cssæ†ç¶æˆå–®ä¸€cssã€å°‡å¤šå€‹jsç¶‘ç¶æˆå–®ä¸€jsã€å°‡å¤šå€‹csså’Œjsåˆä½µæˆå–®ä¸€æª”æ¡ˆ
	 - ç¶“ç”±webpackè™•ç†çš„æ–‡ä»¶æœƒæ·»åŠ hashå€¼ï¼Œä»¥è­˜åˆ¥æ˜¯å¦ç‚ºèˆŠç‰ˆæœ¬

## è¤‡ç¿’

#ğŸ§  å‰ç«¯æ¡†æ¶æ”¾ç½®éœæ…‹è³‡æºçš„åœ°æ–¹ç‚ºä½•ï¼Ÿ ->->-> `public/ å’Œ src/assets/`

#ğŸ§  webpack æœƒä»¥å“ªå€‹ç›®éŒ„çš„è³‡æºä¾†åšè™•ç†ï¼Ÿ ->->-> `srcç›®éŒ„ä¸‹`

#ğŸ§  webpackï¼šè‹¥å°‡éœæ…‹è³‡æºæ”¾ç½®åœ¨src/assetsç›®éŒ„ä¸‹çš„è©±ï¼Œæœƒæ˜¯ï¼Ÿ ->->-> `æœƒæŒ‰ç…§webpackä¾†åšè½‰æ›å’Œè™•ç†ï¼Œæ¯”å¦‚- åœ–ç‰‡æœƒå£“ç¸® - CSSæœƒè¢«é€²è¡Œè½‰è­¯ã€å„ªåŒ–ã€é€²è¡Œå¾Œè£½`

#ğŸ§  webpackï¼šè‹¥å°‡éœæ…‹è³‡æºæ”¾ç½®åœ¨publicç›®éŒ„ä¸‹çš„è©±ï¼Œæœƒæ˜¯ï¼Ÿ ->->-> `è‹¥å°‡éœæ…‹è³‡æºæ”¾ç½®åœ¨publicä¸‹ï¼Œä¸¦ä¸æœƒè¢«webpackæ‰€è™•ç†ï¼Œæœƒè¢«webpackè¤‡è£½è©²ç›®éŒ„ä¾†ä¿æŒåŸæª”æ¡ˆ`


#ğŸ§  webpackï¼š éœæ…‹è³‡æºå­˜æ”¾ä½ç½®ç­–ç•¥ç‚ºä½•ï¼Ÿä»€éº¼å ´æ™¯æ”¾åœ¨publicï¼Ÿä»€éº¼å ´æ™¯æ”¾åœ¨src/assets ->->-> `è‹¥éœæ…‹è³‡æºæ˜¯å·²ç¶“åšå®Œå„ªåŒ–ã€å£“ç¸®å¥½çš„JS/CSSï¼Œå°±å¯ä»¥ç›´æ¥æ”¾ç½®publicã€è‹¥éœæ…‹è³‡æºæ˜¯éœ€è¦åšå„ªåŒ–ä¸”åŒ…å«åœ¨entryç‚ºä¸»çš„ä¾è³´é—œä¿‚åœ–ä¸­çš„è©±ï¼Œé‚£éº¼å°±æ”¾ç½®src/assets`


#ğŸ§  webpackï¼šå°è‘—éœæ…‹è³‡æºåšè™•ç†çš„å¥½è™•æ˜¯ï¼Ÿï¼ˆå…±æœ‰ä¸‰å€‹ï¼‰ ->->-> `è‹¥ç¼ºå°‘æ–‡ä»¶çš„è©±ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€æ™‚é–“æ‰¾åˆ°å•é¡Œä¾†è§£æ±ºã€æ¸›å°‘é¡å¤–è³‡æºçš„è«‹æ±‚æ•¸ã€ç¶“ç”±webpackè™•ç†çš„æ–‡ä»¶æœƒæ·»åŠ hashå€¼ï¼Œä»¥è­˜åˆ¥æ˜¯å¦ç‚ºèˆŠç‰ˆæœ¬`


#ğŸ§  webpackï¼šå°è‘—éœæ…‹è³‡æºåšè™•ç†çš„å¥½è™•æ˜¯ï¼Ÿ è«‹å…·é«”èªªæ˜å¦‚ä½•æ¸›å°‘é¡å¤–è³‡æºçš„è«‹æ±‚æ•¸->->-> `å°‡å¤šå€‹cssæ†ç¶æˆå–®ä¸€cssã€å°‡å¤šå€‹jsç¶‘ç¶æˆå–®ä¸€jsã€å°‡å¤šå€‹csså’Œjsåˆä½µæˆå–®ä¸€æª”æ¡ˆ`

---
Status: #ğŸŒ± 
Tags:
[[Rendering]] - [[React]]
Links:
[[éœæ…‹è³‡æºæ˜¯è³‡æºæœ¬èº«ä¸¦ä¸æœƒéš¨è‘—åŸ·è¡Œã€è™•ç†è«‹æ±‚è€Œè®Šå‹•ï¼Œå‹•æ…‹è³‡æºæ˜¯è³‡æºæœ¬èº«æœƒéš¨è‘—åŸ·è¡Œã€è™•ç†è«‹æ±‚è€Œè®Šå‹•]]
References:
[[@_hiderReactShiYongGongGongWenJianJiapublic]]