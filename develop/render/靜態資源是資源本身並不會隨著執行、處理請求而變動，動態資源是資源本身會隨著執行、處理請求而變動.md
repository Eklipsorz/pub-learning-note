## æè¿°

[[@bradJavascriptWhatDifference]] æè¿°ï¼š
> In this case, a static resource refers to one that is not generated with code on the fly, meaning that its contents won't change from request to request.

> Images, JavaScript, CSS, etc., are all candidates for this. Basically, you set a large cache time for these resources, and your Nginx servers can keep a copy on disk (or in Redis or something similar) so that they are ready to return to the client without hitting your application servers.

> It's important to remember to use versioned file names when setting large cache times. header-image-20140608.png for example, means you can have a later version without worrying about the old one still being in the cache.


[[@axinDongTaiZiYuanYuJingTaiZiYuanChengShiRenSheng]] æè¿°ï¼š
> éœæ…‹è³‡æºï¼š ç•¶ç”¨æˆ¶å¤šæ¬¡è¨ªå•é€™å€‹è³‡æºï¼Œè³‡æºçš„åŸå§‹ç¢¼æ°¸é ä¸æœƒæ”¹è®Šçš„è³‡æºã€‚
> å‹•æ…‹è³‡æºï¼šç•¶ç”¨æˆ¶å¤šæ¬¡è¨ªå•é€™å€‹è³‡æºï¼Œè³‡æºçš„åŸå§‹ç¢¼å¯èƒ½æœƒç™¼ç”Ÿæ”¹è®Šã€‚

[[@itcblWebZhongJingTaiZiYuanHeDongTaiZiYuanDeGaiNianJiQuBieYiTaiBuLuo]] æè¿°ï¼š
> ç°¡å–®ä¾†èªªï¼š

> éœæ…‹è³‡æºï¼šä¸€èˆ¬å®¢æˆ¶ç«¯ç™¼é€è«‹æ±‚åˆ°webæœå‹™å™¨ï¼Œwebæœå‹™å™¨å¾å…§å­˜åœ¨å–åˆ°ç›¸æ‡‰çš„æ–‡ä»¶ï¼Œè¿”å›çµ¦å®¢æˆ¶ç«¯ï¼Œå®¢æˆ¶ç«¯è§£æä¸¦æ¸²æŸ“é¡¯ç¤ºå‡ºä¾†ã€‚

> å‹•æ…‹è³‡æºï¼šä¸€èˆ¬å®¢æˆ¶ç«¯è«‹æ±‚çš„å‹•æ…‹è³‡æºï¼Œå…ˆå°‡è«‹æ±‚äº¤æ–¼webå®¹å™¨ï¼Œwebå®¹å™¨é€£æ¥æ•¸æ“šåº«ï¼Œæ•¸æ“šåº«è™•ç†æ•¸æ“šä¹‹å¾Œï¼Œå°‡å…§å®¹äº¤çµ¦webæœå‹™å™¨ï¼Œwebæœå‹™å™¨è¿”å›çµ¦å®¢æˆ¶ç«¯è§£ææ¸²æŸ“è™•ç†ã€‚



é‡é»ï¼šåœ¨é€™è£¡å‹•éœæ˜¯æŒ‡è¢«å½¢å®¹çš„äº‹ç‰©æœƒä¸æœƒéš¨è‘—åŸ·è¡Œè€Œè®Šå‹•çš„æ€§è³ª
- éœæ…‹è³‡æº (static resource)ï¼šè³‡æºæœ¬èº«ä¸¦ä¸æœƒéš¨è‘—åŸ·è¡Œã€è™•ç†è«‹æ±‚è€Œè®Šå‹• 
	- å¦‚ä½•ç²å–éœæ…‹è³‡æºï¼Ÿå®¢æˆ¶ç«¯å‘å¾Œç«¯ä¼ºæœå™¨ç™¼é€ç´¢è¦è³‡æºçš„è«‹æ±‚ï¼Œä¼ºæœå™¨æ”¶åˆ°ä¸¦ç›´æ¥å¾ç‰¹å®šç©ºé–“å–å‡ºè³‡æºï¼Œæ¥è‘—å°‡è³‡æºå›å‚³çµ¦å®¢æˆ¶ç«¯
	- æ¡ˆä¾‹ï¼šCSSã€Imageã€HTMLã€JS
- å‹•æ…‹è³‡æº (dynamic resource)ï¼šè³‡æºæœ¬èº«æœƒéš¨è‘—åŸ·è¡Œã€è™•ç†è«‹æ±‚è€Œè®Šå‹•
	- å¦‚ä½•ç²å–å‹•æ…‹è³‡æºï¼Ÿå®¢æˆ¶ç«¯å‘å¾Œç«¯ä¼ºæœå™¨ç™¼é€ç´¢è¦è³‡æºçš„è«‹æ±‚ï¼Œä¼ºæœå™¨æ”¶åˆ°ä¸¦å¾ç‰¹å®šç©ºé–“å–å‡ºè³‡æºï¼Œç„¶å¾Œå°‡è³‡æºåšäº›ç‰¹å®šè™•ç†ä¸¦å›å‚³çµ¦å®¢æˆ¶ç«¯
	- æ¡ˆä¾‹ï¼šè³‡æ–™åº«è™•ç†çš„çµæœ
### è¡ç”Ÿç­–ç•¥ - å‹•éœåˆ†é›¢

SeparationÂ ofÂ staticÂ andÂ  dynamic resource

> ### ä»€éº¼æ˜¯å‹•éœåˆ†é›¢

> å‹•éœåˆ†é›¢æ˜¯è®“å‹•æ…‹ç¶²ç«™è£¡çš„å‹•æ…‹ç¶²é æ ¹æ“šä¸€å®šè¦å‰‡æŠŠä¸è®Šçš„è³‡æºå’Œç¶“å¸¸è®Šçš„è³‡æºå€åˆ†é–‹ä¾†ï¼Œå‹•éœè³‡æºåšå¥½äº†æ‹†åˆ†ä»¥å¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥æ ¹æ“šéœæ…‹è³‡æºçš„ç‰¹é»å°‡å…¶åšå¿«å–æ“ä½œï¼Œé€™å°±æ˜¯ç¶²ç«™éœæ…‹åŒ–è™•ç†çš„æ ¸å¿ƒæ€è·¯

> å‹•éœåˆ†é›¢ç°¡å–®çš„æ¦‚æ‹¬æ˜¯ï¼šå‹•æ…‹æª”æ¡ˆèˆ‡éœæ…‹æª”æ¡ˆçš„åˆ†é›¢ã€‚


> ### ç‚ºä»€éº¼è¦ç”¨å‹•éœåˆ†é›¢

> åœ¨æˆ‘å€‘çš„è»Ÿé«”é–‹ç™¼ä¸­ï¼Œæœ‰äº›è«‹æ±‚æ˜¯éœ€è¦å¾Œè‡ºè™•ç†çš„ï¼ˆå¦‚ï¼š.jsp,.doç­‰ç­‰ï¼‰ï¼Œæœ‰äº›è«‹æ±‚æ˜¯ä¸éœ€è¦ç¶“éå¾Œè‡ºè™•ç†çš„ï¼ˆå¦‚ï¼šcssã€htmlã€jpgã€jsç­‰ç­‰æª”æ¡ˆï¼‰ï¼Œé€™äº›ä¸éœ€è¦ç¶“éå¾Œè‡ºè™•ç†çš„æª”æ¡ˆç¨±ç‚ºéœæ…‹æª”æ¡ˆï¼Œå¦å‰‡å‹•æ…‹æª”æ¡ˆã€‚å› æ­¤æˆ‘å€‘å¾Œè‡ºè™•ç†å¿½ç•¥éœæ…‹æª”æ¡ˆã€‚é€™æœƒæœ‰äººåˆèªªé‚£æˆ‘å¾Œè‡ºå¿½ç•¥éœæ…‹æª”æ¡ˆä¸å°±å®Œäº†å—ã€‚ç•¶ç„¶é€™æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯é€™æ¨£å¾Œè‡ºçš„è«‹æ±‚æ¬¡æ•¸å°±æ˜é¡¯å¢å¤šäº†ã€‚åœ¨æˆ‘å€‘å°è³‡æºçš„éŸ¿æ‡‰é€Ÿåº¦æœ‰è¦æ±‚çš„æ™‚å€™ï¼Œæˆ‘å€‘æ‡‰è©²ä½¿ç”¨é€™ç¨®å‹•éœåˆ†é›¢çš„ç­–ç•¥å»è§£æ±ºã€‚

> å‹•éœåˆ†é›¢å°‡ç¶²ç«™éœæ…‹è³‡æºï¼ˆHTMLï¼ŒJavaScriptï¼ŒCSSï¼Œimgç­‰æª”æ¡ˆï¼‰èˆ‡å¾Œè‡ºæ‡‰ç”¨åˆ†é–‹éƒ¨ç½²ï¼Œæé«˜ä½¿ç”¨è€…è¨ªå•éœæ…‹ç¨‹å¼ç¢¼çš„é€Ÿåº¦ï¼Œé™ä½å°å¾Œè‡ºæ‡‰ç”¨è¨ªå•ã€‚é€™è£¡æˆ‘å€‘å°‡éœæ…‹è³‡æºæ”¾åˆ°nginxä¸­ï¼Œå‹•æ…‹è³‡æºè½‰ç™¼åˆ°tomcatä¼ºæœå™¨ä¸­ã€‚

> å› æ­¤ï¼Œå‹•æ…‹è³‡æºè½‰ç™¼åˆ°tomcatä¼ºæœå™¨æˆ‘å€‘å°±ä½¿ç”¨åˆ°äº†å‰é¢è¬›åˆ°çš„åå‘ä»£ç†äº†ã€‚
> æé«˜ç¶²ç«™ååé‡ï¼





é‡é»ï¼š
- SeparationÂ ofÂ staticÂ andÂ  dynamic resource æ˜¯æŒ‡æ ¹æ“šè«‹æ±‚æ˜¯å¦ç´¢æ±‚è‘—å‹•éœæ…‹è³‡æºä¾†åˆ†åˆ¥ç™¼é€ä¸åŒçš„ä¼ºæœå™¨ä¾†è™•ç†ï¼Œç´¢æ±‚éœæ…‹è³‡æºçš„è«‹æ±‚å°±äº¤çµ¦è² è²¬è™•ç†éœæ…‹è³‡æºçš„ä¼ºæœå™¨ï¼Œç´¢æ±‚å‹•æ…‹è³‡æºçš„è«‹æ±‚å°±äº¤çµ¦è² è²¬è™•ç†å‹•æ…‹è³‡æºçš„ä¼ºæœå™¨

## è¤‡ç¿’
#ğŸ§  static resource å’Œ dynamic resource çš„ å‹•éœæ˜¯æ ¹æ“šä»€éº¼è€Œå®šç¾©ï¼Ÿ  ->->-> `åœ¨é€™è£¡å‹•éœæ˜¯æŒ‡è¢«å½¢å®¹çš„äº‹ç‰©æœƒä¸æœƒéš¨è‘—åŸ·è¡Œè€Œè®Šå‹•çš„æ€§è³ªï¼Œè‹¥æœƒå°±ç‚ºå‹•æ…‹ï¼Œè‹¥ä¸æœƒå°±ç‚ºéœæ…‹`

#ğŸ§  éœæ…‹è³‡æº (static resource) æ˜¯ä»€éº¼ï¼Ÿ->->-> `è³‡æºæœ¬èº«ä¸¦ä¸æœƒéš¨è‘—åŸ·è¡Œã€è™•ç†è«‹æ±‚è€Œè®Šå‹•`

#ğŸ§   éœæ…‹è³‡æº (static resource) å¦‚ä½•ç²å–ï¼Ÿ(å®¢æˆ¶ç«¯å’Œä¼ºæœå™¨ç‚ºä¾‹)->->-> `å®¢æˆ¶ç«¯å‘å¾Œç«¯ä¼ºæœå™¨ç™¼é€ç´¢è¦è³‡æºçš„è«‹æ±‚ï¼Œä¼ºæœå™¨æ”¶åˆ°ä¸¦ç›´æ¥å¾ç‰¹å®šç©ºé–“å–å‡ºè³‡æºï¼Œæ¥è‘—å°‡è³‡æºå›å‚³çµ¦å®¢æˆ¶ç«¯`

#ğŸ§  å‹•æ…‹è³‡æº (dynamic resource) æ˜¯ä»€éº¼ï¼Ÿ ->->-> `è³‡æºæœ¬èº«æœƒéš¨è‘—åŸ·è¡Œã€è™•ç†è«‹æ±‚è€Œè®Šå‹•`

#ğŸ§  å‹•æ…‹è³‡æº (dynamic resource)å¦‚ä½•ç²å–ï¼Ÿ(å®¢æˆ¶ç«¯å’Œä¼ºæœå™¨ç‚ºä¾‹) ->->-> `å®¢æˆ¶ç«¯å‘å¾Œç«¯ä¼ºæœå™¨ç™¼é€ç´¢è¦è³‡æºçš„è«‹æ±‚ï¼Œä¼ºæœå™¨æ”¶åˆ°ä¸¦å¾ç‰¹å®šç©ºé–“å–å‡ºè³‡æºï¼Œç„¶å¾Œå°‡è³‡æºåšäº›ç‰¹å®šè™•ç†ä¸¦å›å‚³çµ¦å®¢æˆ¶ç«¯`


#ğŸ§  éœæ…‹è³‡æº (static resource) çš„æ¡ˆä¾‹æ˜¯ä»€éº¼ï¼Ÿ ->->-> `CSSã€Imageã€HTMLã€JS`

#ğŸ§  å‹•æ…‹è³‡æº (dynamic resource) çš„æ¡ˆä¾‹æ˜¯ä»€éº¼ï¼Ÿ ->->-> `è³‡æ–™åº«è™•ç†çš„çµæœ`

#ğŸ§  å‹•éœåˆ†é›¢ (SeparationÂ ofÂ staticÂ andÂ  dynamic resource) æ˜¯ä»€éº¼æ¨£æŠ€è¡“æ¦‚å¿µï¼Ÿ->->-> `æ˜¯æŒ‡æ ¹æ“šè«‹æ±‚æ˜¯å¦ç´¢æ±‚è‘—å‹•éœæ…‹è³‡æºä¾†åˆ†åˆ¥ç™¼é€ä¸åŒçš„ä¼ºæœå™¨ä¾†è™•ç†ï¼Œç´¢æ±‚éœæ…‹è³‡æºçš„è«‹æ±‚å°±äº¤çµ¦è² è²¬è™•ç†éœæ…‹è³‡æºçš„ä¼ºæœå™¨ï¼Œç´¢æ±‚å‹•æ…‹è³‡æºçš„è«‹æ±‚å°±äº¤çµ¦è² è²¬è™•ç†å‹•æ…‹è³‡æºçš„ä¼ºæœå™¨`

---
Status: #ğŸŒ± 
Tags:
[[Rendering]]
Links:
References:
[[@axinDongTaiZiYuanYuJingTaiZiYuanChengShiRenSheng]]
[[@bradJavascriptWhatDifference]]
[[@itcblWebZhongJingTaiZiYuanHeDongTaiZiYuanDeGaiNianJiQuBieYiTaiBuLuo]]