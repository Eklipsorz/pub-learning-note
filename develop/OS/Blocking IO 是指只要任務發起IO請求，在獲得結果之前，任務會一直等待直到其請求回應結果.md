## æè¿°
[[@carlQianTanIModel2018]] æè¿°ï¼š

> ## Blocking I/O
åŸºæœ¬ä¸Š, Linuxä¸­å¤§éƒ¨åˆ†çš„socketéƒ½æ˜¯blockingçš„. ä»¥ä¸‹æ˜¯ä»¥UDPç‚ºç¯„ä¾‹çš„blocking I/O æµç¨‹åœ–(æ›¸ä¸Šå¯«å› ç‚ºTCPæ¯”è¼ƒè¤‡é›œ, æ‰€ä»¥ç”¨UDPåšç¯„ä¾‹).

![](https://miro.medium.com/max/1204/1*5uPdSnjRALGMiKAYTUZXcA.png)

> ç•¶user processå‘¼å«äº†recvfromé€™å€‹system callæ™‚, kernelå°±æœƒé€²å…¥å‰é¢æåˆ°çš„I/Oä¹‹ç¬¬ä¸€éšæ®µ: ç­‰å¾…è³‡æ–™æº–å‚™. å°±network I/Oä¾†èªª, å¤§å¤šæ•¸æƒ…æ³ä¸‹, é€™å€‹æ™‚é–“é»éƒ½é‚„æ²’æœ‰è³‡æ–™(datagram)åˆ°é”, ç”šè‡³æ˜¯å¯èƒ½ç™¼ç”ŸéŒ¯èª¤äº†(é€šå¸¸æ˜¯system callè¢«interrupt signalä¸­æ–·). é€™æ™‚å€™user processå°±æœƒä¸€ç›´è™•æ–¼blockingçš„ç‹€æ…‹, ç›´åˆ°recvfromå›å‚³æº–å‚™å¥½çš„è³‡æ–™, ä¸¦å°‡è³‡æ–™å¾kernelè¤‡è£½è‡³user processçš„memory, æœ€å¾Œå¾…kernelå›å‚³çµæœ(OK)çµ¦user processå¾Œ, user processæ‰è§£é™¤blockingçš„ç‹€æ…‹ä¸¦ä¸”ç¹¼çºŒé‹ä½œ.

> å¾ä¸Šåœ–ä¾†çœ‹, å¯ä»¥çŸ¥é“æ‰€è¬‚çš„blockingå°±æ˜¯åœ¨I/OåŸ·è¡Œçš„å…©å€‹éšæ®µéƒ½è¢«blockä½äº†. åœ¨systemæ­¸é‚„processæ§åˆ¶æ¬Šä¹‹å‰, processéƒ½ä¸èƒ½å†åšä»»ä½•çš„äº‹æƒ….


[[@StudyNotesModels]] æè¿°ï¼š
> `é˜»å¡ (Blocking)`ï¼šèª¿ç”¨çš„ç¨‹åºæˆ–è€…æ‡‰ç”¨ç¨‹å¼ç™¼èµ·è«‹æ±‚ï¼Œåœ¨ç²å¾—çµæœä¹‹å‰ï¼Œèª¿ç”¨æ–¹çš„ç¨‹åºæœƒæ‡¸ (Hang) ä½ä¸å‹•ï¼Œç„¡æ³•å›æ‡‰ï¼Œç›´åˆ°ç²å¾—çµæœã€‚


é‡é»ï¼š
- Blocking I/O Model æ˜¯ç¨® I/Oè™•ç†æ¨¡å‹ï¼Œç¸®å¯«ç‚ºBIO Modelã€‚
- åªè¦æœ‰ä»»å‹™ã€ç¨‹åºã€æ‡‰ç”¨ç¨‹å¼ç™¼èµ·I/Oè«‹æ±‚ï¼Œåœ¨ç²å¾—çµæœä¹‹å‰ï¼Œä»»å‹™ã€ç¨‹åºã€æ‡‰ç”¨æ‡‰ç”¨ç¨‹å¼éƒ½æœƒä¿æŒç­‰å¾…ï¼Œç›´åˆ°è©²I/Oè«‹æ±‚å›æ‡‰çµæœï¼Œæ‰æœƒè§£é™¤ç­‰å¾…

### Blocking I/O å‘½åç·£ç”±
1. ç›¸å°æ–¼Non Blocking I/O Modelè€Œè¨€ï¼Œæ˜¯ä¸€ç¨®I/Oè«‹æ±‚æœƒé˜»å¡å‘¼å«ä¸€æ–¹çš„æ¨¡å¼


## è¤‡ç¿’
#ğŸ§  Blocking I/O Model æ˜¯ä»€éº¼æ¨£çš„æ¦‚å¿µ ->->-> `æ˜¯ç¨® I/Oè™•ç†æ¨¡å‹ï¼Œåªè¦æœ‰ä»»å‹™ã€ç¨‹åºã€æ‡‰ç”¨ç¨‹å¼ç™¼èµ·I/Oè«‹æ±‚ï¼Œåœ¨ç²å¾—çµæœä¹‹å‰ï¼Œä»»å‹™ã€ç¨‹åºã€æ‡‰ç”¨æ‡‰ç”¨ç¨‹å¼éƒ½æœƒä¿æŒç­‰å¾…ï¼Œç›´åˆ°è©²I/Oè«‹æ±‚å›æ‡‰çµæœï¼Œæ‰æœƒè§£é™¤ç­‰å¾…`
<!--SR:!2022-06-17,3,250-->


#ğŸ§  Blocking I/O å‘½åç·£ç”±->->-> `ç›¸å°æ–¼Non Blocking I/O Modelè€Œè¨€ï¼Œæ˜¯ä¸€ç¨®I/Oè«‹æ±‚æœƒé˜»å¡å‘¼å«ä¸€æ–¹çš„æ¨¡å¼`

---
Status: #ğŸŒ± 
Tags:
[[I/O handling]] - [[Operating System]]
Links:
References:
[[@carlQianTanIModel2018]]
[[@StudyNotesModels]]