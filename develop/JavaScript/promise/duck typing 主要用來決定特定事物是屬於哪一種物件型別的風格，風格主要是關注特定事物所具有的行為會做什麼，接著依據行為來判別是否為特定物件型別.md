## æè¿°



### duck typing
[[@YaZiXingBieWeiJiBaiKeZiYouDeBaiKeQuanShu]]
> é´¨å­å‹åˆ¥ï¼ˆè‹±èªï¼šduck typingï¼‰åœ¨ç¨‹å¼è¨­è¨ˆä¸­æ˜¯å‹•æ…‹å‹åˆ¥çš„ä¸€ç¨®é¢¨æ ¼ã€‚åœ¨é€™ç¨®é¢¨æ ¼ä¸­ï¼Œä¸€å€‹ç‰©ä»¶æœ‰æ•ˆçš„èªæ„ï¼Œä¸æ˜¯ç”±ç¹¼æ‰¿è‡ªç‰¹å®šçš„é¡æˆ–å¯¦ç¾ç‰¹å®šçš„ä»‹é¢ï¼Œè€Œæ˜¯ç”±ã€Œç•¶å‰æ–¹æ³•å’Œå±¬æ€§çš„é›†åˆã€æ±ºå®šã€‚é€™å€‹æ¦‚å¿µçš„åå­—ä¾†æºæ–¼ç”±è©¹å§†æ–¯Â·æƒ ç‰¹ç§‘å§†Â·èŠåˆ©æå‡ºçš„é´¨å­æ¸¬è©¦ï¼ˆè¦‹ä¸‹é¢çš„ã€Œæ­·å²ã€ç« ç¯€ï¼‰ï¼Œã€Œé´¨å­æ¸¬è©¦ã€å¯ä»¥é€™æ¨£è¡¨è¿°ï¼š

	ã€Œç•¶çœ‹åˆ°ä¸€éš»é³¥èµ°èµ·ä¾†åƒé´¨å­ã€æ¸¸æ³³èµ·ä¾†åƒé´¨å­ã€å«èµ·ä¾†ä¹Ÿåƒé´¨å­ï¼Œé‚£éº¼é€™éš»é³¥å°±å¯ä»¥è¢«ç¨±ç‚ºé´¨å­ã€‚ã€

> åœ¨é´¨å­å‹åˆ¥ä¸­ï¼Œé—œæ³¨é»åœ¨æ–¼ç‰©ä»¶çš„è¡Œç‚ºï¼Œèƒ½åšä»€éº¼ï¼›è€Œä¸æ˜¯é—œæ³¨ç‰©ä»¶æ‰€å±¬çš„é¡å‹ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸ä½¿ç”¨é´¨å­å‹åˆ¥çš„èªè¨€ä¸­ï¼Œæˆ‘å€‘å¯ä»¥ç·¨å¯«ä¸€å€‹å‡½å¼ï¼Œå®ƒæ¥å—ä¸€å€‹é¡å‹ç‚ºã€Œé´¨å­ã€çš„ç‰©ä»¶ï¼Œä¸¦å‘¼å«å®ƒçš„ã€Œèµ°ã€å’Œã€Œå«ã€æ–¹æ³•ã€‚


[[@JinYiBuSiKaoDuckTypingIThome]]
> ç”±æ–¼è®Šæ•¸æœ¬èº«ä¸å¸¶å‹æ…‹è³‡è¨Šï¼Œå‹•æ…‹å®šå‹èªè¨€åœ¨è¨­è¨ˆæ–¹æ³•æ™‚ï¼Œæƒ³è¦ä¸å—é™æ–¼ç‰©ä»¶å‹æ…‹è€Œåƒ…æ€è€ƒç‰©ä»¶æ‡‰ç•¶å…·æœ‰çš„è¡Œç‚ºï¼Œä¹Ÿå°±æ˜¯é€²è¡Œæ‰€è¬‚Duck typingæ™‚ï¼Œæ¥µç‚ºå®¹æ˜“ã€‚

> ç„¶è€ŒDuck typingä¸¦éå‹•æ…‹å®šå‹èªè¨€å°ˆå±¬ï¼Œéœæ…‹å®šå‹èªè¨€ä¹Ÿèƒ½å¤ é€²è¡ŒDuck typingï¼Œåªä¸éåœ¨æ–¹å¼ä¸Šé€šå¸¸è¼ƒå‹•æ…‹å®šå‹éº»ç…©ï¼Œæ—¢ç„¶å‹•æ…‹èˆ‡éœæ…‹å®šå‹éƒ½æœ‰èƒ½åŠ›é€²è¡ŒDuck typingï¼Œé‚£éº¼é€²ä¸€æ­¥æ€è€ƒå…©è€…é–“çš„å·®ç•°ï¼Œæ‰èƒ½çœŸæ­£ç™¼æ®èˆ‡æŒæ¡Duck typingã€‚

**ä½ åªè¦åƒå€‹é´¨å­å‘±å‘±å«**

> æ”¯æŒè€…æœ€æ„›æ“æŠ±å‹•æ…‹å®šå‹èªè¨€çš„ç†ç”±ä¹‹ä¸€å°±æ˜¯ï¼Œå¯¦ä½œDuck typingæ™‚æ¥µç‚ºå®¹æ˜“ï¼Œä¹Ÿå°±æ˜¯ã€Œç•¶æˆ‘çœ‹åˆ°ä¸€éš»é³¥ï¼Œå®ƒèµ°è·¯åƒé´¨å­ï¼Œæ¸¸æ³³åƒé´¨å­ï¼Œå«è²åƒé´¨å­ï¼Œæˆ‘å°±ç¨±å…¶ç‚ºé´¨å­ã€æ­¤èªªæ³•æœ€åˆèµ·æºï¼Œå¯èƒ½ä¾†è‡ªç¾åœ‹å°ç¬¬å®‰ç´è©©äººJames Whitcomb Rileyï¼Œç”¨ä¾†è¡¨ç¤ºå¯è§€å¯ŸæœªçŸ¥äº‹ç‰©çš„å¤–åœ¨ç‰¹å¾µï¼Œä»¥æ¨æ–·è©²äº‹ç‰©çš„æœ¬è³ªï¼Œå¾Œä¾†åœ¨ç¨‹å¼è¨­è¨ˆä¹Ÿå¸¸ç”¨ä¾†éš±å–»å‹•æ…‹å®šå‹èªè¨€çš„è¨­è¨ˆé¢¨æ ¼ï¼Œè‹¥ä½¿ç”¨å‹•æ…‹å®šå‹çš„Rubyèªè¨€ä¾†ç¤ºç¯„ï¼Œå¯å®šç¾©ä¸€å€‹doQuackæ–¹æ³•ï¼š

**def doQuack(duck)  
Â  Â  duck.quack  
end**

> åƒæ•¸duckæ²’æœ‰ä»»ä½•å‹æ…‹å®£å‘Šï¼Œä¹Ÿå› æ­¤ï¼Œä¸æœƒæœ‰ä»»ä½•å‹æ…‹ç´„æŸï¼Œåªè¦å‚³é€²ä¾†çš„ç‰©ä»¶å…·æœ‰quackæ–¹æ³•å°±å¯ä»¥äº†ï¼Œåœ¨å¿«é€Ÿé–‹ç™¼ã€ç¨‹å¼è¦ç¯„å°šæœªç¢ºç«‹çš„éšæ®µè‹¥æœ‰æ–°éœ€æ±‚ï¼Œåªè¦åœ¨doQuackæ–¹æ³•ä¸­ä¿®æ”¹ï¼Œä¸ç”¨è²»å¿ƒåœ°ä¿®æ”¹é¡åˆ¥ç­‰å®šç¾©ï¼Œé€™å€‹ç‰¹æ€§æ˜¯éå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œå¦‚æœèªè¨€æœ¬èº«åˆæœ‰æ”¯æŒç‰©ä»¶å€‹é«”åŒ–ï¼ˆObject individuationï¼‰ï¼Œå³ä½¿ç‰©ä»¶åŸæœ¬æ²’æœ‰quackæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è‡¨æ™‚æ·»åŠ å†åšç‚ºå¼•æ•¸å‚³å…¥ã€‚ä¾‹å¦‚ï¼ŒRubyå¯ä»¥è‡¨æ™‚ç‚ºç‰©ä»¶å®šç¾©å–®ä¾‹æ–¹æ³•ï¼ˆsingleton method ï¼‰ï¼Œå°±èƒ½æ»¿è¶³å‘¼å«doQuackçš„éœ€æ±‚ï¼š

**dog = Dog.new  
def dog.quack  
Â  Â  print "quack"  
end  
doQuack(dog)**

é‡é»ï¼š
- duck typing ä¸»è¦ç”¨ä¾†æ±ºå®šç‰¹å®šäº‹ç‰©æ˜¯å±¬æ–¼å“ªä¸€ç¨®ç‰©ä»¶å‹åˆ¥çš„é¢¨æ ¼
- é¢¨æ ¼ä¸»è¦æ˜¯é—œæ³¨ç‰¹å®šäº‹ç‰©æ‰€å…·æœ‰çš„è¡Œç‚ºæœƒåšä»€éº¼ï¼Œæ¥è‘—ä¾æ“šè¡Œç‚ºä¾†åˆ¤åˆ¥æ˜¯å¦ç‚ºç‰¹å®šç‰©ä»¶å‹åˆ¥ï¼Œè€Œä¸æ˜¯é—œæ³¨ç‰¹å®šäº‹ç‰©æ‰€å±¬çš„é¡åˆ¥ã€ä»‹é¢ã€åŸå‹
- duck typing åŸæœ‰æ¦‚å¿µç‚º
	ã€Œç•¶çœ‹åˆ°ä¸€éš»é³¥èµ°èµ·ä¾†åƒé´¨å­ã€æ¸¸æ³³èµ·ä¾†åƒé´¨å­ã€å«èµ·ä¾†ä¹Ÿåƒé´¨å­ï¼Œé‚£éº¼é€™éš»é³¥å°±å¯ä»¥è¢«ç¨±ç‚ºé´¨å­ã€‚ã€
- duck typing é©ç”¨æ–¼æ»¿è¶³ä»¥ä¸‹ç‰¹æ€§çš„èªè¨€
	- dynamic typing
	- static typing

#### type & typing å‘½åç·£ç”±

[[@TypeSystemWikipedia]]
> Assigning a data type, termed typing, gives meaning to a sequence of bits such as a value in memory or some object such as a variable. 

é‡é»ï¼š
- type è³¦äºˆç‰¹å®šè³‡æ–™å‹åˆ¥è‡³ä¸€çµ„äºŒé€²åˆ¶åºåˆ—ã€è¨˜æ†¶é«”å…§å®¹ã€å…§å®¹
- typing å‰‡æ˜¯å¼·èª¿ **è³¦äºˆå‹åˆ¥è‡³ç‰¹å®šå…§å®¹** çš„æ–¹æ³•æˆ–è€…éç¨‹



## è¤‡ç¿’

#ğŸ§  type å‘½åç·£ç”±ç‚ºä½•->->-> `type è³¦äºˆç‰¹å®šè³‡æ–™å‹åˆ¥è‡³ä¸€çµ„äºŒé€²åˆ¶åºåˆ—ã€è¨˜æ†¶é«”å…§å®¹ã€å…§å®¹`

#ğŸ§  typing å‘½åç·£ç”±ç‚ºä½• ->->-> ` typing å‰‡æ˜¯å¼·èª¿ **è³¦äºˆå‹åˆ¥è‡³ç‰¹å®šå…§å®¹** çš„æ–¹æ³•æˆ–è€…éç¨‹`

#ğŸ§  duck typing æ˜¯ä»€éº¼æ±è¥¿ï¼Ÿ->->-> `duck typing ä¸»è¦ç”¨ä¾†æ±ºå®šç‰¹å®šäº‹ç‰©æ˜¯å±¬æ–¼å“ªä¸€ç¨®ç‰©ä»¶å‹åˆ¥çš„é¢¨æ ¼`

#ğŸ§  duck typing ä¸»è¦ç”¨ä¾†æ±ºå®šç‰¹å®šäº‹ç‰©æ˜¯å±¬æ–¼å“ªä¸€ç¨®ç‰©ä»¶å‹åˆ¥çš„é¢¨æ ¼ï¼Œå…¶é¢¨æ ¼ä¸»æ—¨ç‚ºä½•ï¼Ÿ->->-> `é¢¨æ ¼ä¸»è¦æ˜¯é—œæ³¨ç‰¹å®šäº‹ç‰©æ‰€å…·æœ‰çš„è¡Œç‚ºæœƒåšä»€éº¼ï¼Œæ¥è‘—ä¾æ“šè¡Œç‚ºä¾†åˆ¤åˆ¥æ˜¯å¦ç‚ºç‰¹å®šç‰©ä»¶å‹åˆ¥ï¼Œè€Œä¸æ˜¯é—œæ³¨ç‰¹å®šäº‹ç‰©æ‰€å±¬çš„é¡åˆ¥ã€ä»‹é¢ã€åŸå‹`

#ğŸ§  duck typing ä¸»è¦ç”¨ä¾†æ±ºå®šç‰¹å®šäº‹ç‰©æ˜¯å±¬æ–¼å“ªä¸€ç¨®ç‰©ä»¶å‹åˆ¥çš„é¢¨æ ¼ï¼Œå…¶é¢¨æ ¼é—œä¿‚ä»€éº¼ä»¥åŠä¸é—œå¿ƒä»€éº¼ï¼Ÿ->->-> `é¢¨æ ¼ä¸»è¦æ˜¯é—œæ³¨ç‰¹å®šäº‹ç‰©æ‰€å…·æœ‰çš„è¡Œç‚ºæœƒåšä»€éº¼ï¼Œæ¥è‘—ä¾æ“šè¡Œç‚ºä¾†åˆ¤åˆ¥æ˜¯å¦ç‚ºç‰¹å®šç‰©ä»¶å‹åˆ¥ï¼Œè€Œä¸æ˜¯é—œæ³¨ç‰¹å®šäº‹ç‰©æ‰€å±¬çš„é¡åˆ¥ã€ä»‹é¢ã€åŸå‹`

#ğŸ§  duck typing é©ç”¨æ–¼æ»¿è¶³å“ªäº›ç‰¹æ€§çš„èªè¨€ ->->-> `	- dynamic typing - static typing`

#ğŸ§  duck typing å…¸æ•…ç‚ºä½•ï¼Ÿ->->-> `ç•¶çœ‹åˆ°ä¸€éš»é³¥èµ°èµ·ä¾†åƒé´¨å­ã€æ¸¸æ³³èµ·ä¾†åƒé´¨å­ã€å«èµ·ä¾†ä¹Ÿåƒé´¨å­ï¼Œé‚£éº¼é€™éš»é³¥å°±å¯ä»¥è¢«ç¨±ç‚ºé´¨å­ã€‚`






---
Status: #ğŸŒ± 
Tags:
[[JavaScript]]
Links:
References:
[[@TypeSystemWikipedia]]
[[@JinYiBuSiKaoDuckTypingIThome]]
[[@YaZiXingBieWeiJiBaiKeZiYouDeBaiKeQuanShu]]