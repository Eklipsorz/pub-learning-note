## æè¿°

callback æœ¬èº«ç‚ºç”±ç‰¹å®šç¨‹å¼æ¨¡çµ„Aäº¤ç”±éåŒæ­¥ä»»å‹™è™•ç†å®Œç‰¹å®šä»»å‹™ä¾†é€šçŸ¥ç¨‹å¼æ¨¡çµ„Aä»»å‹™ç‹€æ…‹æˆ–è€…ä»£æ›¿ç¨‹å¼æ¨¡çµ„Aè™•ç†çš„æ‰‹æ®µä¹‹ä¸€

æœ¬èº«å…·æœ‰å…©å¤§ç¼ºé»ï¼š
- å¤šcallbacké–“ç¼ºä¹å¾ªåºæ€§
- ç¼ºä¹å¯ä¿¡ä»»æ€§


### ç¼ºä¹å¾ªåºæ€§

1. callback æœ¬èº«å¾ˆé›£ç¢ºä¿æ¯ä¸€å€‹callbackéƒ½æ˜¯å¾ªåºåŸ·è¡Œï¼Œæˆ–è€…èªªåŸ·è¡Œcallbackçš„åŸ·è¡Œé †åºä¸¦ä¸èƒ½ç¢ºå®šæŒ‰ç…§ä½ç½®é †åºä¾†åŸ·è¡Œ
2. è‹¥å¼·è¿«æ¯å€‹callbackæŒ‰ç…§é æœŸé †åºä¾†åŸ·è¡Œï¼Œå®¹æ˜“æå‡é–‹ç™¼/ç¶­è­·é›£åº¦

äººé¡æ€è€ƒç¸½æ˜¯ä»¥
1. å¾ªåºã€å¤šå€‹ä»»å‹™åˆ‡æ›çš„è§’åº¦ä¾†è¦åŠƒæ¯ä¸€ä»¶äº‹æƒ…
2. å°æ–¼ç¼ºä¹å¾ªåºæ€§æœƒé•èƒŒäººé¡æ€è€ƒï¼Œå®¹æ˜“ä½¿é–‹ç™¼è€…èª¤æœƒcallbackçš„åŸ·è¡Œé †åº


### ç¼ºä¹å¯ä¿¡ä»»æ€§

1. ç„¡æ³•ç¢ºä¿callbackè½‰äº¤çµ¦éåŒæ­¥ä»»å‹™å¾Œï¼Œå®ƒæœƒå¦‚ä½•åŸ·è¡Œï¼Ÿ
	- éåŒæ­¥ä»»å‹™å¯ä»¥é‡è¤‡åŸ·è¡Œcallbackå¥½å¹¾æ¬¡
	- éåŒæ­¥ä»»å‹™å¯ä»¥é¸æ“‡ä¸åŸ·è¡Œcallback
	- éåŒæ­¥ä»»å‹™åŸ·è¡Œcallbackçš„æ™‚æ©Ÿé»éæ—©æˆ–è€…éæ™š

[[@OopWhatInversion]]
> The Inversion-of-Control (IoC) pattern, is about providing any kind of callback (which controls reaction), instead of acting ourself directly (in other words, inversion and/or redirecting control to external handler/controller)



ç¸½çµç‚ºï¼š
- inversion of controlï¼šä»»ä½•ç¨®é¡çš„callbackä¹‹åŸ·è¡Œæ§åˆ¶æ¬Šå¾ç¨‹å¼æ¨¡çµ„Aåè½‰æˆä¸æ˜¯ç”±ç¨‹å¼æ¨¡çµ„Aä¾†æ§åˆ¶åŸ·è¡Œï¼Œè€Œæ˜¯è½‰ç”±å…¶ä»–å¤–éƒ¨ç¨‹å¼æ¨¡çµ„ã€‚åœ¨é€™è£¡æœƒæ˜¯æŒ‡è¢«æ¥æ”¶callbackçš„éåŒéƒ¨ä»»å‹™ä¾†æ±ºå®š


#### æ¡ˆä¾‹

å‡å¦‚å…¬å¸è¦æ±‚è³¼è²·æ¯ä¸€é …æ±è¥¿æ™‚ï¼Œéƒ½è¦å‘¼å«è¿½è¹¤äº¤æ˜“çš„ç¬¬ä¸‰æ–¹æœå‹™ï¼Œç„¶å¾ŒæŒ‡å®šcallbackä¾†ç”±å®ƒè² è²¬ä»˜æ¬¾å’Œé¡¯ç¤ºä»˜æ¬¾æˆåŠŸçš„ç•«é¢ã€‚

ç„¶è€Œcallbackçš„åŸ·è¡Œæ§åˆ¶æ¬Šæœƒè½‰ç”±ç¬¬ä¸‰æ–¹æœå‹™ä¾†åŸ·è¡Œï¼Œç”±å®ƒæ±ºå®šcallbackè¦åŸ·è¡Œå¹¾æ¬¡ã€åŸ·è¡Œæ™‚æ©Ÿã€æ˜¯å¦è¦åŸ·è¡Œã€‚
```
// è¿½è¹¤äº¤æ˜“ä¾†çµ±è¨ˆçš„ç¬¬ä¸‰æ–¹æœå‹™
analytics.trackPurchase(handler);
function handler() {
	chargeCreditCard();
	displayThankyouPage();
}
```


## è¤‡ç¿’


---
Status: #ğŸŒ± 
Tags:
Links:
References:
[[@OopWhatInversion]]