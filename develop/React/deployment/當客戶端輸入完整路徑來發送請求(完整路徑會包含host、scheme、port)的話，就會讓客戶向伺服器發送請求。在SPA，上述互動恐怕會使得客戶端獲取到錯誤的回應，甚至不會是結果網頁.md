## 描述



### 當客戶端輸入完整路徑來發送請求

當客戶端輸入完整路徑來發送請求(完整路徑會包含host、scheme、port)的話，就會讓客戶向伺服器發送請求。


當伺服器接收到請求，伺服器會先根據預設的server-side routing來找到對應的資源進行處理回傳，其中常見server-side routing會是當伺服器接收到請求時，就會先以伺服器的檔案系統定位並找到對應資源，如
`http://localhost:xxx/path1/file1`
伺服器就會在根目錄下找到path1目錄，並於內部試圖找到file1這檔案


### 面對上述問題的SPA

在SPA，上述互動恐怕會使得客戶端獲取到錯誤的回應，甚至不會是結果網頁


#### 解法
其解法為
1. 在伺服器設定忽略path或者直接將所有任意path的請求都直接轉換成回應代表SPA的結果網頁
2. 客戶端拿到結果網頁，然後以host:port接續的path來從client-side routing和結果網頁找到對應頁面

  

實作：
1. static site host 伺服器本身並不會忽略path



## 複習

#🧠 當客戶端輸入特定路徑(會包含host、scheme、port)來發送請求，會發生什麼？ ->->-> `當客戶端輸入完整路徑來發送請求(完整路徑會包含host、scheme、port)的話，就會讓客戶向伺服器發送請求。`
<!--SR:!2023-02-02,28,250-->


#🧠 當客戶端輸入路徑(不包含含host、scheme、port)來發送請求，會發生什麼？ ->->-> `可能會以Client-side routing或者server-side routing來實作`
<!--SR:!2023-01-17,17,248-->

#🧠 當伺服器接收到含有端點和動詞的請求時，通常會如何處理？ ->->-> `伺服器會先根據預設的server-side routing來找到對應的資源進行處理回傳`
<!--SR:!2023-01-31,26,250-->

#🧠 當伺服器接收到含有端點和動詞的請求時，通常會是伺服器會先根據預設的server-side routing來找到對應的資源進行處理回傳，那麼典型的案例是什麼？ ->->-> `常見server-side routing會是當伺服器接收到請求時，就會先以伺服器的檔案系統定位並找到對應資源`
<!--SR:!2023-02-02,28,250-->

#🧠 當客戶端輸入完整路徑來發送請求(完整路徑會包含host、scheme、port、path)的話，就會讓客戶向伺服器發送請求。面對這情況，SPA會有什麼影響？ ->->-> `若path合法的話，會得到預期結果，但若輸入其他path，上述互動恐怕會使得客戶端獲取到錯誤的回應，甚至不會是結果網頁`
<!--SR:!2023-02-02,28,250-->


#🧠 當客戶端輸入完整路徑來發送請求(完整路徑會包含host、scheme、port、path)的話，就會讓客戶向伺服器發送請求，面對這情況，讓使用SPA的客戶端會獲取到錯誤的回應，甚至不會是結果網頁，其解法會是什麼？？ ->->-> `1. 在伺服器設定忽略path或者直接將所有任意path的請求都直接轉換成回應代表SPA的結果網頁 2. 客戶端拿到結果網頁，然後以host:port接續的path來從client-side routing和結果網頁找到對應頁面`
<!--SR:!2023-01-13,13,230-->

#🧠 在SPA中，為何要讓在伺服器設定忽略path或者直接將所有任意path的請求都直接轉換成回應代表SPA的結果網頁？ ->->-> `主要是頁面全給Client來處理，所以客戶端以完整路徑來發送請求的話，會變相地向伺服器索要對應畫面，這會使客戶端拿到錯誤的結果，為了避免這樣，得在伺服器內部做路徑改寫，使所有路徑都導向只拿index.html`
<!--SR:!2023-01-10,11,248-->



---
Status: #🌱 
Tags:
[[React]]
Links:
References: