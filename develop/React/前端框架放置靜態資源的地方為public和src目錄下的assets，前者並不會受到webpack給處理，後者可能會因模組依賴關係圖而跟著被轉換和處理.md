## 描述
[[@_hiderReactShiYongGongGongWenJianJiapublic]] 描述：
> 在刚学`React/Vue`的时候，配合`webpack`脚手架学习的过程中，碰到一个问题会非常疑惑，比如在`React`中有个`Public`文件夹可以放静态资源，但是在`src`目录中同样有个`assets`文件夹，这个同样也是放静态资源的，这个就很困惑了，为何放置静态资源的地方会有两个？


> 两者区别

> 其实放在两个文件夹区别就在于是否会被webpack所处理，如果您将文件放入该public文件夹，webpack 将不会处理它，在你打包的时候，会将public文件夹直接复制一份到你构建出来的文件夹中。而src/assets目录的文件（前提你在js中有引入），它会被webpack编译，比如图片，如果你的图片小于你在webpack中的loader下设置的limit大小（可配置），它会被编译成base64，从而在实际项目中减少http请求，放置在src/assets目录有以下几点好处：

    脚本和样式表被缩小并捆绑在一起以避免额外的网络请求。
    缺少文件会导致编译错误，而不是用户的404错误。
    结果文件名包含内容哈希，因此您无需担心浏览器缓存旧版本。

> 当然，在实际项目中，公共文件夹public还是有它的作用的，如果你希望你的文件不被编译，比如jquery.min.js，或者压缩好的js插件等，你就可以把文件放在public文件夹中，这样还可以减少文件构建时间，可以减少构建文件的大小。换过来想，如果你把所有静态资源全部放在assets文件夹中，你会发现最后打包出来的文件很大，导致首页白屏时间过长，所以，你可以把一些不会改动的静态文件放到public中。


##### 在[React](https://so.csdn.net/so/search?q=React&spm=1001.2101.3001.7020)中使用公共文件夹public

> 如果在`index.html`中，你可以像这样去使用它：

```
<img src="％PUBLIC_URL%/image/poster.jpeg" alt="">
```


> 只有前缀`public`可以访问文件夹中的文件`%PUBLIC_URL%`。如果需要使用`src`或中的文件`node_modules`，则必须将其复制到那里以明确指定将此文件作为构建的一部分的意图。  
>
> 当运行`npm run build`，`Create React App`将替换`%PUBLIC_URL%`为正确的绝对路径，因此即使使用客户端路由或将其托管在非根`URL`上，项目也会正常工作。  
> 
> 在`JavaScript`代码中，可以`process.env.PUBLIC_URL`出于类似目的使用：

```
render() {
	return <img src={process.env.PUBLIC_URL + '/img/logo.png'} />;
}
```


重點：
- 前端框架放置靜態資源的地方：public/ 和 src/assets/
- webpack 會以src目錄下的資源來做處理，若將靜態資源放置在src/assets/目錄下，會按照webpack來做轉換和處理，比如
	- 圖片會壓縮
	- CSS會被進行轉譯、優化、進行後製
- 若將靜態資源放置在public下，並不會被webpack所處理，但會被webpack複製該目錄來保持原檔案
- 靜態資源存放位置策略：
	- 若靜態資源是已經做完優化、壓縮好的JS/CSS，就可以直接放置public
	- 若靜態資源是需要做優化且包含在entry為主的依賴關係圖中的話，那麼就放置src/assets
 - 靜態資源放置在src/assets的好處為：
	 - 若缺少文件的話，可以在第一時間找到問題來解決
	 - 減少額外資源的請求數：將多個css捆綁成單一css、將多個js綑綁成單一js、將多個css和js合併成單一檔案
	 - 經由webpack處理的文件會添加hash值，以識別是否為舊版本

## 複習

#🧠 前端框架放置靜態資源的地方為何？ ->->-> `public/ 和 src/assets/`
<!--SR:!2022-09-11,23,250-->

#🧠 webpack 會以哪個目錄的資源來做處理？ ->->-> `src目錄下`
<!--SR:!2022-09-18,28,250-->

#🧠 webpack：若將靜態資源放置在src/assets目錄下的話，會是？ (要看一下有沒有被依賴)->->-> `具體會看有沒有entry文件所依賴到的，若有就會按照webpack來做轉換和處理，比如- 圖片會壓縮 - CSS會被進行轉譯、優化、進行後製。若沒有就不會被處理`
<!--SR:!2022-08-25,10,250-->


#🧠 webpack：若將靜態資源放置在src/assets目錄下且資源沒被依賴的話，會是？->->-> `並不會被webpack所處理到`
<!--SR:!2022-08-25,10,250-->


#🧠 webpack：若將靜態資源放置在src/assets目錄下且資源有被依賴的話，會是？->->-> `會被webpack所處理到`
<!--SR:!2022-08-25,10,250-->



#🧠 webpack：若將靜態資源放置在public目錄下的話，webpack會是如何處理？ ->->-> `若將靜態資源放置在public下，並不會被webpack所處理，但會被webpack複製該目錄來保持原檔案`
<!--SR:!2022-08-25,10,250-->

#🧠 webpack：若將靜態資源放置在public目錄下的話，webpack並不會對裡頭的資源做優化，但它還會有什麼處理 ->->-> `若將靜態資源放置在public下，並不會被webpack所處理，但會被webpack複製該目錄來保持原檔案`
<!--SR:!2022-08-25,10,250-->


#🧠 webpack： 靜態資源存放位置策略為何？什麼場景放在public？什麼場景放在src/assets ->->-> `若靜態資源是已經做完優化、壓縮好的JS/CSS，就可以直接放置public、若靜態資源是需要做優化且包含在entry為主的依賴關係圖中的話，那麼就放置src/assets`
<!--SR:!2022-09-18,28,250-->


#🧠 webpack：對著靜態資源做處理的好處是？（文件檢測，共有三個） ->->-> `若缺少文件的話，可以在第一時間找到問題來解決、減少額外資源的請求數、經由webpack處理的文件會添加hash值，以識別是否為舊版本`
<!--SR:!2022-08-30,6,249-->


#🧠 哪種情況可以先遇到資源找不到的訊息，網頁使用webpack的情況和網頁沒使用webpack的情況？為什麼會是這樣？ ->->-> `會是使用webpack的情況，能夠先遇到資源找不到訊息。若網頁有使用，代表會在得到結果網頁之前就先檢測到，而沒使用就是以目前網頁來當作結果網頁傳給客戶端的話，通常很有可能會在客戶端使用其結果網頁時才遇到訊息`
<!--SR:!2022-08-30,6,249-->

#🧠 webpack：若將多個CSS和多個JS合併，會以什麼檔案為主？ ->->-> `JS檔案`
<!--SR:!2022-08-30,6,249-->

#🧠 webpack：CSS 可不可以和JS合併成一個檔案來當作webpack優化過程 ->->-> `可以，由於JavaScript本身會支援CSS語法，可以將CSS內容試著合併在相關的JS檔案`
<!--SR:!2022-09-16,25,250-->

#🧠 minify 過程會刪掉註解？ ->->-> `會`
<!--SR:!2022-09-09,20,250-->

#🧠 webpack：對著靜態資源做處理的好處是？ 請具體說明如何減少額外資源的請求數->->-> `將多個css捆綁成單一css、將多個js綑綁成單一js、將多個css和js合併成單一檔案`
<!--SR:!2022-08-27,6,230-->

---
Status: #🌱 
Tags:
[[Rendering]] - [[React]]
Links:
[[靜態資源是資源本身並不會隨著執行、處理請求而變動，動態資源是資源本身會隨著執行、處理請求而變動]]
References:
[[@_hiderReactShiYongGongGongWenJianJiapublic]]