## æè¿°

> ç¼“å­˜å‡»ç©¿è·Ÿç¼“å­˜é›ªå´©æœ‰ç‚¹ç±»ä¼¼ï¼Œç¼“å­˜é›ªå´©æ˜¯å¤§è§„æ¨¡çš„keyå¤±æ•ˆï¼Œè€Œç¼“å­˜å‡»ç©¿æ˜¯æŸä¸ªçƒ­ç‚¹çš„keyå¤±æ•ˆï¼Œå¤§å¹¶å‘é›†ä¸­å¯¹å…¶è¿›è¡Œè¯·æ±‚ï¼Œå°±ä¼šé€ æˆå¤§é‡è¯·æ±‚è¯»ç¼“å­˜æ²¡è¯»åˆ°æ•°æ®ï¼Œä»è€Œå¯¼è‡´é«˜å¹¶å‘è®¿é—®æ•°æ®åº“ï¼Œå¼•èµ·æ•°æ®åº“å‹åŠ›å‰§å¢ã€‚è¿™ç§ç°è±¡å°±å«åšç¼“å­˜å‡»ç©¿ã€‚

![](https://s3.51cto.com/images/blog/202205/05235853_6273f43dc8d76425.png?x-oss-process=image/watermark,size_14,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=)

é‡é»ï¼š
- Hotspot Invalidæ˜¯æŒ‡æŸå€‹æ™‚å¸¸è¢«å­˜å–çš„keyåœ¨ç·©å­˜è£¡å¤±æ•ˆï¼Œè‹¥åœ¨é€™æƒ…æ³ä¸‹å‡ºç¾å¤§é‡è«‹æ±‚ä¾†ç´¢è¦å°æ‡‰è³‡æ–™çš„è©±ï¼Œå…¨éƒ¨è«‹æ±‚æœƒç›´æ¥å› ç‚ºç·©å­˜æ‰¾ä¸åˆ°è€Œå°å‘è‡³è³‡æ–™åº«


### Hotspot Invalid å‘½åç·£ç”±
Hotspot æ˜¯æŒ‡ç†±é–€åœ°é»ï¼Œåœ¨é€™è£¡æœƒæ˜¯å½¢å®¹æ™‚å¸¸è¢«å­˜å–çš„keyï¼ŒInvalid æ˜¯æŒ‡ç„¡æ•ˆçš„ï¼Œåˆä½µåœ¨ä¸€èµ·å°±æ˜¯ç„¡æ•ˆçš„ç†±é–€åœ°é»ï¼Œåœ¨é€™è£¡æœƒæ˜¯æŒ‡ç·©å­˜ä¸Šçš„æ™‚å¸¸è¢«å­˜å–çš„keyæ˜¯ç„¡æ•ˆçš„
> **a popular and exciting place**

### Hotspot Invalid èµ·å› 
å¦‚åŒå•é¡Œåç¨±æ‰€è¿°ï¼Œèµ·å› æºè‡ªæ–¼ç·©å­˜ä¸­çš„æ™‚å¸¸è¢«å­˜å–çš„keyå¤±æ•ˆã€‚

### Hotspot Invalid è§£æ±ºè¾¦æ³•

> è§£å†³æ–¹æ¡ˆï¼š

> a)ã€åœ¨ç¼“å­˜å¤±æ•ˆåï¼Œé€šè¿‡äº’æ–¥é”æˆ–è€…é˜Ÿåˆ—æ¥æ§åˆ¶è¯»æ•°æ®å†™ç¼“å­˜çš„çº¿ç¨‹æ•°é‡ï¼Œæ¯”å¦‚æŸä¸ªkeyåªå…è®¸ä¸€ä¸ªçº¿ç¨‹æŸ¥è¯¢æ•°æ®å’Œå†™ç¼“å­˜ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ã€‚è¿™ç§æ–¹å¼ä¼šé˜»å¡å…¶ä»–çš„çº¿ç¨‹ï¼Œæ­¤æ—¶ç³»ç»Ÿçš„ååé‡ä¼šä¸‹é™

> b)ã€çƒ­ç‚¹æ•°æ®ç¼“å­˜æ°¸è¿œä¸è¿‡æœŸã€‚

é‡é»ï¼š
- ç·©å­˜ä¸Šçš„keyå¤±æ•ˆå¾Œï¼Œå¯ä»¥é€šéäº’æ–¥é–æˆ–è€…éšŠåˆ—ä¾†æ§åˆ¶å¤šåŸ·è¡Œç·’å°æ–¼è®€å–è³‡æ–™åº«è³‡æ–™ä¸¦å›å¯«è‡³ç·©å­˜ï¼Œæ¯”å¦‚æŸå€‹keyå°±åªå…è¨±ä¸€å€‹åŸ·è¡Œç·’å»è®€å–è³‡æ–™åº«è³‡æ–™å’Œå›å¯«è‡³ç·©å­˜ï¼Œç„¶å¾Œå…¶ä»–åŸ·è¡Œç·’ç­‰å¾…ï¼Œä½†é€™äº›æ–¹æ³•å¾€å¾€æœƒé˜»å¡å…¶ä»–åŸ·è¡Œç·’ï¼Œæ‰€ä»¥æœƒä½¿æ•´é«”çš„ååé‡(æˆåŠŸè¢«å®Œæˆçš„è«‹æ±‚æ•¸é‡)ä¸‹é™
- å°‡æ™‚å¸¸å­˜å–çš„keyè¨­å®šæ°¸é ä¸éæœŸ


#### æ°¸ä¸éæœŸï¼šç‰©ç†ä¸Šä¸éæœŸ vs é‚è¼¯ä¸Šä¸éæœŸ 
> æ°¸ä¸è¿‡æœŸå®é™…åŒ…å«ä¸¤å±‚æ„æ€ï¼š

> ç‰©ç†ä¸è¿‡æœŸï¼Œé’ˆå¯¹çƒ­ç‚¹keyä¸è®¾ç½®è¿‡æœŸæ—¶é—´

> é€»è¾‘è¿‡æœŸï¼ŒæŠŠè¿‡æœŸæ—¶é—´å­˜åœ¨keyå¯¹åº”çš„valueé‡Œï¼Œå¦‚æœå‘ç°è¦è¿‡æœŸäº†ï¼Œé€šè¿‡ä¸€ä¸ªåå°çš„å¼‚æ­¥çº¿ç¨‹è¿›è¡Œç¼“å­˜çš„æ„å»º

é‡é»ï¼šè¨­å®šæ°¸ä¸éæœŸçš„æ–¹å¼
- å¯¦éš›åœ¨ç·©å­˜ç³»çµ±ä¸è¨­å®šå°æ‡‰keyçš„éæœŸæ™‚é–“
- å°‡éæœŸæ™‚é–“å¯«å…¥å°æ‡‰keyè£¡çš„value(è©²keyå°æ‡‰å¤šå€‹value)ï¼Œä¸¦ä¸”å¯¦ç¾æª¢æŸ¥æ©Ÿåˆ¶ä¾†æª¢æŸ¥è©²valueæ˜¯å¦éæœŸï¼Œè‹¥éæœŸå°±ç›´æ¥é‡å»ºå°keyåœ¨ç·©å­˜

## è¤‡ç¿’
#ğŸ§   Hotspot Invalid å‘½åç·£ç”±->->-> `Hotspot æ˜¯æŒ‡ç†±é–€åœ°é»ï¼Œåœ¨é€™è£¡æœƒæ˜¯å½¢å®¹æ™‚å¸¸è¢«å­˜å–çš„keyï¼ŒInvalid æ˜¯æŒ‡ç„¡æ•ˆçš„ï¼Œåˆä½µåœ¨ä¸€èµ·å°±æ˜¯ç„¡æ•ˆçš„ç†±é–€åœ°é»ï¼Œåœ¨é€™è£¡æœƒæ˜¯æŒ‡ç·©å­˜ä¸Šçš„æ™‚å¸¸è¢«å­˜å–çš„keyæ˜¯ç„¡æ•ˆçš„`

#ğŸ§  Hotspot Invalid æ˜¯ä»€éº¼æ¨£çš„å•é¡Œ ->->-> `Hotspot Invalidæ˜¯æŒ‡æŸå€‹æ™‚å¸¸è¢«å­˜å–çš„keyåœ¨ç·©å­˜è£¡å¤±æ•ˆï¼Œè‹¥åœ¨é€™æƒ…æ³ä¸‹å‡ºç¾å¤§é‡è«‹æ±‚ä¾†ç´¢è¦å°æ‡‰è³‡æ–™çš„è©±ï¼Œå…¨éƒ¨è«‹æ±‚æœƒç›´æ¥å› ç‚ºç·©å­˜æ‰¾ä¸åˆ°è€Œå°å‘è‡³è³‡æ–™åº«`

#ğŸ§  Hotspot Invalid èµ·å›  ->->-> `å¦‚åŒå•é¡Œåç¨±æ‰€è¿°ï¼Œèµ·å› æºè‡ªæ–¼ç·©å­˜ä¸­çš„æ™‚å¸¸è¢«å­˜å–çš„keyå¤±æ•ˆã€‚`

#ğŸ§  Hotspot Invalid è§£æ³•æ˜¯ï¼Ÿ è‹¥æ˜¯è¦ä½ ç”¨äº’æ–¥é–æˆ–è€…éšŠåˆ—å¼·è¿«å¤šåŸ·è¡Œç·’åªèƒ½ä¹–ä¹–æ’éšŠä¸€æ¬¡åªåŸ·è¡Œä¸€æ¬¡ï¼Œé‚£è§£æ³•æœƒæ˜¯ï¼Ÿ->->-> `ç·©å­˜ä¸Šçš„keyå¤±æ•ˆå¾Œï¼Œå¯ä»¥é€šéäº’æ–¥é–æˆ–è€…éšŠåˆ—ä¾†æ§åˆ¶å¤šåŸ·è¡Œç·’å°æ–¼è®€å–è³‡æ–™åº«è³‡æ–™ä¸¦å›å¯«è‡³ç·©å­˜ï¼Œæ¯”å¦‚æŸå€‹keyå°±åªå…è¨±ä¸€å€‹åŸ·è¡Œç·’å»è®€å–è³‡æ–™åº«è³‡æ–™å’Œå›å¯«è‡³ç·©å­˜ï¼Œç„¶å¾Œå…¶ä»–åŸ·è¡Œç·’ç­‰å¾…ï¼Œä½†é€™äº›æ–¹æ³•å¾€å¾€æœƒé˜»å¡å…¶ä»–åŸ·è¡Œç·’ï¼Œæ‰€ä»¥æœƒä½¿æ•´é«”çš„ååé‡(æˆåŠŸè¢«å®Œæˆçš„è«‹æ±‚æ•¸é‡)ä¸‹é™`

#ğŸ§  Hotspot Invalid è§£æ³•æ˜¯ï¼Ÿè‹¥æ’é™¤ä½¿ç”¨äº’æ–¥é–æˆ–éšŠåˆ—çš„è©± ->->-> `å°‡æ™‚å¸¸å­˜å–çš„keyè¨­å®šæ°¸é ä¸éæœŸ`

#ğŸ§  æœ‰å“ªäº›è¨­å®šæ–¹å¼å¯ä»¥é”æˆæ°¸ä¸éæœŸ ->->-> `å¯¦éš›åœ¨ç·©å­˜ç³»çµ±ä¸è¨­å®šå°æ‡‰keyçš„éæœŸæ™‚é–“ã€å°‡éæœŸæ™‚é–“å¯«å…¥å°æ‡‰keyè£¡çš„value(è©²keyå°æ‡‰å¤šå€‹value)ï¼Œä¸¦ä¸”å¯¦ç¾æª¢æŸ¥æ©Ÿåˆ¶ä¾†æª¢æŸ¥è©²valueæ˜¯å¦éæœŸï¼Œè‹¥éæœŸå°±ç›´æ¥é‡å»ºå°keyåœ¨ç·©å­˜`

---
Status: #ğŸŒ± 
Tags:
[[Redis]] - [[Caching]]
Links:
[[Cache Avalanche æ˜¯æŒ‡å¤§é‡è«‹æ±‚åœ¨cacheä¸Šçš„å¤§é‡keyå¤±æ•ˆä¸‹è€Œå¾cacheè¢«å°å‘è‡³è™•æ–¼ç¡¬ç¢Ÿçš„è³‡æ–™åº«]]
[[Cache Penetration æ˜¯æŒ‡è«‹æ±‚å› ç´¢å–çš„æ±è¥¿åŸæœ¬å°±ä¸å­˜åœ¨è³‡æ–™åº«è€Œç›´æ¥è¢«å°å‘è‡³è™•æ–¼ç¡¬ç¢Ÿçš„è³‡æ–™åº«]]
References:
[[@manbucoding2022NianRedisZuiXinMianShiTiDi8PianRedisHuanCunWenTiWx624642a80743cDeJiShuBoKe]]
[[@liuRedisKuaiQuXueBengJiChuan2021]]