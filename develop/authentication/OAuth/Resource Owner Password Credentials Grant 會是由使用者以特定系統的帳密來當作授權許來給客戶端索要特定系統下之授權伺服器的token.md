## æè¿°


> å¯†ç æ¨¡å¼ï¼ˆResource Owner Password Credentials Grantï¼‰ä¸­ï¼Œç”¨æˆ·å‘å®¢æˆ·ç«¯æä¾›è‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ã€‚å®¢æˆ·ç«¯ä½¿ç”¨è¿™äº›ä¿¡æ¯ï¼Œå‘"æœåŠ¡å•†æä¾›å•†"ç´¢è¦æˆæƒã€‚

> åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œç”¨æˆ·å¿…é¡»æŠŠè‡ªå·±çš„å¯†ç ç»™å®¢æˆ·ç«¯ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¸å¾—å‚¨å­˜å¯†ç ã€‚è¿™é€šå¸¸ç”¨åœ¨ç”¨æˆ·å¯¹å®¢æˆ·ç«¯é«˜åº¦ä¿¡ä»»çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è€…ç”±ä¸€ä¸ªè‘—åå…¬å¸å‡ºå“ã€‚è€Œè®¤è¯æœåŠ¡å™¨åªæœ‰åœ¨å…¶ä»–æˆæƒæ¨¡å¼æ— æ³•æ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½è€ƒè™‘ä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚

![å¯†ç æ¨¡å¼](https://www.ruanyifeng.com/blogimg/asset/2014/bg2014051206.png)

> å®ƒçš„æ­¥éª¤å¦‚ä¸‹ï¼š
> 
> ï¼ˆAï¼‰ç”¨æˆ·å‘å®¢æˆ·ç«¯æä¾›ç”¨æˆ·åå’Œå¯†ç ã€‚
> 
> ï¼ˆBï¼‰å®¢æˆ·ç«¯å°†ç”¨æˆ·åå’Œå¯†ç å‘ç»™è®¤è¯æœåŠ¡å™¨ï¼Œå‘åè€…è¯·æ±‚ä»¤ç‰Œã€‚
> 
> ï¼ˆCï¼‰è®¤è¯æœåŠ¡å™¨ç¡®è®¤æ— è¯¯åï¼Œå‘å®¢æˆ·ç«¯æä¾›è®¿é—®ä»¤ç‰Œã€‚

é‡é»ï¼š
- Resource Owner Password Credentials Grant æœƒæ˜¯ç”±ä½¿ç”¨è€…ä»¥ç‰¹å®šç³»çµ±çš„å¸³å¯†ä¾†ç•¶ä½œæˆæ¬Šè¨±ä¾†çµ¦å®¢æˆ¶ç«¯ç´¢è¦ç‰¹å®šç³»çµ±ä¸‹ä¹‹æˆæ¬Šä¼ºæœå™¨çš„token
- é©ç”¨å ´æ™¯ï¼š
	- ç”±æ–¼æ˜¯ä½¿ç”¨è€…æä¾›é«˜åº¦æ•æ„Ÿçš„å¸³å¯†ï¼Œæ‰€ä»¥å®¢æˆ¶ç«¯å¿…é ˆæ˜¯å€¼å¾—ä¿¡ä»»ï¼Œæ¯”å¦‚å®¢æˆ¶ç«¯ç‚ºä½œæ¥­ç³»çµ±çš„ä¸€éƒ¨åˆ†æˆ–è€…ç”±ä¸€å€‹è‘—åå…¬å¸å‡ºå“çš„å®¢æˆ¶ç«¯
	- å…¶ä»–æˆæ¬Šæ¨¡å¼ç„¡æ³•å¯¦ç¾æ‰æœƒé¸æ“‡æœ¬æ–¹æ¡ˆ
- ä¸»è¦æµç¨‹ç‚º
	- ä½¿ç”¨è€…ç›´æ¥å‘å®¢æˆ¶ç«¯æä¾›ç‰¹å®šç³»çµ±çš„å¸³è™Ÿå’Œå¯†ç¢¼
		- ä¸»è¦ç›®çš„ç‚ºï¼šå°‡å¸³å¯†ä½œç‚ºä½¿ç”¨è€…çš„æˆæ¬Šè¨±å¯ä¹‹è­‰æ˜
	- å®¢æˆ¶ç«¯æ†‘è—‰è‘—å¸³å¯†ä¾†å‘èªè­‰ä¼ºæœå™¨ç´¢è¦token
	- èªè­‰ä¼ºæœå™¨ç¢ºèªç„¡èª¤å¾Œï¼Œå°±æœƒå°‡tokenå›å‚³çµ¦å®¢æˆ¶ç«¯

### æ­¥é©ŸBæ‰€éœ€è¦çš„åƒæ•¸
> Bæ­¥éª¤ä¸­ï¼Œå®¢æˆ·ç«¯å‘å‡ºçš„HTTPè¯·æ±‚ï¼ŒåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š

> -   grant_typeï¼šè¡¨ç¤ºæˆæƒç±»å‹ï¼Œæ­¤å¤„çš„å€¼å›ºå®šä¸º"password"ï¼Œå¿…é€‰é¡¹ã€‚
> -   usernameï¼šè¡¨ç¤ºç”¨æˆ·åï¼Œå¿…é€‰é¡¹ã€‚
> -   passwordï¼šè¡¨ç¤ºç”¨æˆ·çš„å¯†ç ï¼Œå¿…é€‰é¡¹ã€‚
> -   scopeï¼šè¡¨ç¤ºæƒé™èŒƒå›´ï¼Œå¯é€‰é¡¹ã€‚

### æ­¥é©ŸCæ‰€éœ€è¦çš„åƒæ•¸
> Cæ­¥éª¤ä¸­ï¼Œè®¤è¯æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€è®¿é—®ä»¤ç‰Œï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚

```http 
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-store
Pragma: no-cache

{
	"access_token":"2YotnFZFEjr1zCsicMWpAA",
    "token_type":"example",
    "expires_in":3600,
    "refresh_token":"tGzv3JOkF0XG5Qx2TlKWIA",
	"example_parameter":"example_value"
}
```


## è¤‡ç¿’


---
Status: #ğŸŒ± 
Tags:
[[OAuth]]
Links:
[[OAuth æœƒæ˜¯æ¨™æº–ã€å”å®šï¼Œå…¶å…§å®¹ç‚ºå¦‚ä½•åœ¨ä¸éœ€è¦å°‡ "æ“æœ‰è³‡æºä½¿ç”¨æ¬Šé™çš„ä½¿ç”¨è€…å¸³å¯†" çµ¦äºˆ ç‰¹å®šæœå‹™Açš„æƒ…æ³ä¸‹ï¼Œç™¼æ”¾è³‡æºä½¿ç”¨æ¬Šé™çµ¦ç‰¹å®šæœå‹™Aä¾†ä»£è¡¨ä½¿ç”¨è€…å»åšç‰¹å®šäº‹æƒ…]]
References:
