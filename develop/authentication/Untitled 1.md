## æè¿°



### server-side session

> server-side sessionï¼š the server generates and store some unique identifier
> store unique identifier on server, send some identifier to client


é‡é»ï¼š
- server-side sessionï¼šä¼ºæœå™¨æœƒæ›¿å®¢æˆ¶ç«¯è«‹æ±‚çš„è™•ç†å…§å®¹å„²å­˜ä¸¦ç”¢ç”Ÿç¨ç‰¹è­˜åˆ¥ç¢¼ä¾†è¨˜éŒ„ï¼Œæ¥è‘—è³¦äºˆè­˜åˆ¥ç¢¼çµ¦äºˆå®¢æˆ¶ç«¯ï¼Œä»¥ä¾¿ä¸‹ä¸€æ¬¡é€£æ¥äº’å‹•æ™‚ï¼Œå¯ç¹¼çºŒä»¥ä¸Šä¸€å€‹è«‹æ±‚çš„è™•ç†å…§å®¹ä¾†è™•ç†æ¥ä¸‹ä¾†çš„è«‹æ±‚è™•ç†
- æ‡‰ç”¨ï¼š
	- ç™»å…¥é©—è­‰
-  ä»¥server-side sessionç‚ºåŸºç¤çš„ç™»å…¥é©—è­‰æ‰€å¸¶ä¾†çš„å¥½è™•å°±æ˜¯ï¼š
	- ç›¸è¼ƒæ–¼ä½¿ç”¨å›ºå®šå­—ä¸²ä¾†åšç‚ºaccessä¾†èªªï¼Œè¼ƒä¸å®¹æ˜“å½é€ å…¶access
- ä»¥server-side sessionç‚ºåŸºç¤çš„ç™»å…¥é©—è­‰æ‰€å¸¶ä¾†çš„å£è™•å°±æ˜¯ï¼š
	- éœ€è¦ä¼ºæœå™¨é¡å¤–è™•ç†ç©ºé–“æˆæœ¬å’Œæ™‚é–“æˆæœ¬åœ¨sessionçš„å„²å­˜ã€ç®¡ç†ã€ç²å–ã€é©—è­‰ä¸Š
	- Monitoring Systemä¸Šçš„Visibilityã€Reliabilityã€Scalabilityæœƒä¸å®¹æ˜“æå‡ã€‚
[[API Server ä¸ä¸€å®šè¦æ»¿è¶³statelessnessï¼Œä¸»è¦è¦ä¾æ“šå ´æ™¯ä¾†èª¿æ•´ï¼Œå ´æ™¯ç‚ºéœ€è¦æ”¹å–„- Visibility - Reliability  - Scalability ç­‰æŒ‡æ¨™çš„å ´æ™¯]]


### ç™»å…¥é©—è­‰ï¼šç²å–å°æ‡‰permission æˆ–è€… accessçš„ æµç¨‹

1. å®¢æˆ¶ç«¯å…ˆè¼¸å…¥è‡ªå·±çš„credentialä¸¦å‚³éçµ¦ä¼ºæœå™¨åšé©—è­‰
2. ä¼ºæœå™¨æ”¶åˆ°å°±å¾è³‡æ–™åº«ç²å–å°æ‡‰ä½¿ç”¨è€…çš„credentialä¾†æ¯”å°è¼¸å…¥çš„credentialæ˜¯å¦ä¸€æ¨£ï¼Œè‹¥ä¸€æ¨£å°±åšä¸‹ä¸€æ­¥ï¼›è‹¥ä¸ä¸€æ¨£å°±å ±éŒ¯
3. ä¼ºæœå™¨å»ºç«‹session ä¾†å„²å­˜credentialä¸¦å°‡è©²sessionå„²å­˜è‡³ä¼ºæœå™¨ä¸Šçš„session store
4. ä¼ºæœå™¨åœ¨å›å‚³session idçµ¦å®¢æˆ¶ç«¯ï¼Œä½œç‚ºä»£è¡¨permissionæˆ–è€…accessï¼Œ
5. æ­¤æ™‚å®¢æˆ¶ç«¯æ”¶åˆ°æœƒå­˜æ”¾åœ¨è‡ªå·±çš„cookieä¸¦æ¨™è¨˜å°æ‡‰domainå’Œpathä¾†è¡¨ç¤ºé€™è³‡æ–™å±¬æ–¼å“ªå€‹domainå’Œpathã€‚

![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1672251336/blog/authentication/server-side-authentication-session-generate_wmtpwy.png)



### ç™»å…¥é©—è­‰ï¼šåˆ©ç”¨permission æˆ–è€…accessä¾†ç´¢è¦å—ä¿è­·çš„è³‡æºä¹‹æµç¨‹

1. å®¢æˆ¶ç«¯ç™¼é€è«‹æ±‚æ™‚ï¼Œæœƒæ ¹æ“šè«‹æ±‚ç«¯é»å’Œä¼ºæœå™¨ä¾†å¾å®¢æˆ¶ç«¯çš„cookieæ‰¾åˆ°ç›¸å°æ‡‰çš„è³‡æ–™å¤¾é›œåœ¨è«‹æ±‚å°åŒ…å…§ï¼Œåœ¨é€™è£¡æœƒæ˜¯session id
2. ä¼ºæœå™¨æ”¶åˆ°è«‹æ±‚æ™‚ï¼Œå°±æœƒæ‹¿session idå»å¾å°æ‡‰session storeæ‰¾åˆ°å°æ‡‰çš„sessionï¼Œè‹¥æ‰¾åˆ°å°±å¾—åˆ°å°æ‡‰çš„credentialï¼›è‹¥æ‰¾ä¸åˆ°å°±å ±éŒ¯
3. ä¼ºæœå™¨å°±å°‡è«‹æ±‚å›æ‡‰å‚³é€çµ¦å®¢æˆ¶ç«¯

![](https://res.cloudinary.com/dqfxgtyoi/image/upload/v1672251336/blog/authentication/server-side-authentication-session-compare_g9vnft.png)





## è¤‡ç¿’


---
Status: #ğŸŒ± 
Tags:
[[Authentication]]
Links:
[[API Server ä¸ä¸€å®šè¦æ»¿è¶³statelessnessï¼Œä¸»è¦è¦ä¾æ“šå ´æ™¯ä¾†èª¿æ•´ï¼Œå ´æ™¯ç‚ºéœ€è¦æ”¹å–„- Visibility - Reliability  - Scalability ç­‰æŒ‡æ¨™çš„å ´æ™¯]]
[[åœ¨é›»è…¦ç§‘å­¸ä¸­ï¼Œscalability æ˜¯æŒ‡ç•¶ç‚ºäº†è®“æ‡‰ç”¨ç¨‹å¼æ›´èƒ½æ»¿è¶³éœ€æ±‚è€Œæ“´å±•ç¡¬é«”æ•ˆèƒ½æˆ–è€…å…¶ä»–æ•ˆèƒ½çš„æƒ…æ³ä¸‹ï¼Œç‰¹å®šé›»è…¦ç¨‹å¼é‚„èƒ½å¤ ç¹¼çºŒæ­£å¸¸åŸ·è¡Œçš„ç¨‹åº¦]]
[[Reliability æ³›æŒ‡è‘—ä½¿ç”¨è€…å°æ–¼ç‰¹å®šè»Ÿé«”åŸ·è¡Œå‡ºé æœŸçµæœæ‰€èƒ½ä¿¡è³´çš„ç¨‹åº¦ï¼Œå…·é«”ç‚ºåœ¨è¦å®šæ¢ä»¶ä¸‹å’Œè¦å®šçš„æ™‚é–“å…§ï¼Œè»Ÿé«”èƒ½å¤ å¾—åˆ°é æœŸçµæœçš„èƒ½åŠ›æˆ–è€…ç¨‹åº¦]]
[[åœ¨é›»è…¦ç§‘å­¸ä¸­çš„monitoring tool ä¸­ï¼Œvisibility æ˜¯æŒ‡ç‰¹å®šç›£æ¸¬çµæœå¯è¢«çœ‹è¦‹çš„ç¨‹åº¦ï¼Œæˆ–è€…ç‰¹å®šç›£æ¸¬çµæœå¯è¦‹åˆ°çš„å®¹æ˜“ç¨‹åº¦]]
References: