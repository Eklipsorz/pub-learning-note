
## 描述
[[@ZiLiaoKuZhongDeGongXiangSuoYuPaiTaSuoChengShiRenSheng]]
> 共享鎖，又稱為讀鎖，獲得共享鎖之後，可以檢視但無法修改和刪除資料。

[[@laowudemaoMySqlGongXiangSuoPaiTaSuo]]
> 共享锁又称读锁，是读取操作创建的锁。其他用户可以并发读取数据，但任何事务都不能对数据进行修改（获取数据上的排他锁），直到已释放所有共享锁。

重點：
- 資料庫的Shared Lock是一種鎖
- 一旦有人鎖死資源A就只允許鎖死期間給任何人讀取資源A，鎖死期間，任何人(包含第一個鎖死的人)都無法對資源A進行寫入、修改
- 若釋放共享鎖，任何業務就能直接存取和寫入

### 命名緣由
原本lock本身是只允許一個人讀取和寫入資源前來對資源鎖死，在使用期間不得允許其他人讀取和寫入，而共享鎖是相對於該定義，會在鎖死的期間，以不產生不一致問題的情況下將資源共享給其他想要讀取的人


### 共享鎖可重複上鎖
> 如果事务`T`对数据`A`加上共享锁后，则其他事务只能对`A`再加共享锁，不能加排他锁。获准共享锁的事务只能读数据，不能修改数据。

重點：
- 當任務T對資料A上共享鎖時，其他任務可以對同個資料A加上自己的共享鎖，但不能加上排他鎖(獨享鎖)，因為會容易違反共享鎖的目的和與其他鎖產生衝突
- 允許重複上共享鎖的原因是因爲這些鎖在重複上鎖的情況下能夠不違反共享鎖的用途-鎖死期間只允許任意任務讀取
## 複習
#🧠 資料庫的Shared Lock是什麼？ ->->-> `一種鎖，指一旦有人鎖死資源A就只允許鎖死期間給任何人讀取資源A，並於鎖死期間，任何人(包含第一個鎖死的人)都無法對資源A進行寫入、修改`
<!--SR:!2022-07-06,20,250-->

#🧠 資料庫的Shared Lock 命名緣由？->->-> `原本lock本身是只允許一個人讀取和寫入資源前來對資源鎖死，在使用期間不得允許其他人讀取和寫入，而共享鎖是相對於該定義，會在鎖死的期間，以不產生不一致問題的情況下將資源共享給其他想要讀取的人`
<!--SR:!2022-06-17,9,250-->

#🧠 當一個任務對一個資料A加上共享鎖後，請問其他任務能否讀取資料A ->->-> `可以讀取`
<!--SR:!2022-06-18,10,250-->

#🧠 共享鎖可重複上鎖嗎？ 舉一個任務T和資料A來說明一下情況 ->->-> `當任務T對資料A上共享鎖時，其他任務可以對同個資料A加上自己的共享鎖，但不能加上排他鎖(獨享鎖)`
<!--SR:!2022-06-18,10,250-->

#🧠 為何可以允許重複上共享鎖？ ->->-> `允許重複上共享鎖的原因是因爲這些鎖在重複上鎖的情況下能夠不違反共享鎖的用途-鎖死期間只允許任意任務讀取`
<!--SR:!2022-06-17,9,250-->

---
Status: #🌱 
Tags:
[[Operating System]] - [[Database]]
Links:
[[資料庫的Exclusive lock是一旦有人鎖死就只允許在鎖死期間給第一個鎖上的人進行讀寫存取，其他人不能參與存取]]
References:
[[@laowudemaoMySqlGongXiangSuoPaiTaSuo]]
[[@ZiLiaoKuZhongDeGongXiangSuoYuPaiTaSuoChengShiRenSheng]]