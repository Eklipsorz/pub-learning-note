## æè¿°

> JavaScriptÂ **Hoisting**Â refers to the process whereby the interpreter appears to move theÂ _declaration_of functions, variables or classes to the top of their scope, prior to execution of the code.

> Hoisting allows functions to be safely used in code before they are declared.

> Variable and classÂ _declarations_Â are also hoisted, so they too can be referenced before they are declared. Note that doing so can lead to unexpected errors, and is not generally recommended.



> æå‡ï¼ˆHoistingï¼‰æ˜¯åœ¨ ECMAScriptÂ® 2015 Language Specification è£¡é¢æ‰¾ä¸åˆ°çš„å°ˆæœ‰åè©ã€‚å®ƒæ˜¯ä¸€ç¨®é‡æ¸… JaveScript åœ¨åŸ·è¡Œéšæ®µå…§æ–‡å¦‚ä½•é‹è¡Œçš„æ€è·¯ï¼ˆå°¤å…¶æ˜¯åœ¨å‰µå»ºå’ŒåŸ·è¡Œéšæ®µï¼‰ã€‚ç„¶è€Œï¼Œæå‡ä¸€è©å¯èƒ½æœƒå¼•èµ·èª¤è§£ï¼šä¾‹å¦‚ï¼Œæå‡çœ‹èµ·ä¾†æ˜¯å–®ç´”åœ°å°‡è®Šæ•¸å’Œå‡½å¼å®£å‘Šï¼Œç§»å‹•åˆ°ç¨‹å¼çš„å€å¡Šé ‚ç«¯ï¼Œç„¶è€Œä¸¦éå¦‚æ­¤ã€‚è®Šæ•¸å’Œå‡½æ•¸çš„å®£å‘Šæœƒåœ¨ç·¨è­¯éšæ®µå°±è¢«æ”¾å…¥è¨˜æ†¶é«”ï¼Œä½†å¯¦éš›ä½ç½®å’Œç¨‹å¼ç¢¼ä¸­å®Œå…¨ä¸€æ¨£ã€‚

é‡é»ï¼š
- hoisting ä¸¦éå¯¦éš›ä¸Šçš„æŠ€è¡“ç”¨èªï¼Œè€Œæ˜¯å¹«åŠ©äººç†è§£ç”¨çš„ç”¨èª
- hoisting èµ·æºæ–¼ï¼š
	- äººå€‘æœƒå°‡JSç¨‹å¼ç¢¼çš„åŸ·è¡Œè¦–ç‚ºé‚Šè§£æé‚ŠåŸ·è¡Œï¼Œä¸æœƒæƒ³åˆ°JSçš„åŸ·è¡Œå‰æœƒå…ˆç¶“éç·¨è­¯ä»¥åŠåŒæ™‚é–“åˆ†é…è¨˜æ†¶é«”ï¼Œé€™å°±é€ æˆåœ¨åŸ·è¡Œæ™‚å°±å·²ç¶“å‘ˆç¾å‡º **éƒ¨åˆ†ç¨‹å¼ç¢¼æ˜¯å·²ç¶“å…ˆæ¯”é æœŸä½ç½®ä¾†å¾—å…ˆåŸ·è¡Œçš„æƒ…æ³** ï¼Œæ¯”å¦‚èªª
		- varè®Šæ•¸ï¼Œåœ¨ä»¥ä¸‹ä¾‹å­ä¸­çš„ç®­é ­ä»£è¡¨ç›®å‰åŸ·è¡Œçš„è¡Œæ•¸ï¼Œä½†åŸ·è¡Œåˆ°consoleæ™‚ï¼Œç†è«–ä¸Šï¼Œå°å‡ºçš„è®Šæ•¸è¦ç­‰åˆ°åŸ·è¡Œä¸‹ä¸€è¡ŒåŸ·è¡Œå®Œç•¢ï¼Œæ‰æœƒæœ‰è¨˜æ†¶é«”ç©ºé–“ï¼Œæ‰€ä»¥consoleçš„çµæœæœƒå ±éŒ¯ï¼Œä½†å¯¦éš›ä¸Šçµæœæœƒæ˜¯çœ‹èµ·ä¾†ä¸‹ä¸€è¡Œçš„éƒ¨åˆ†æŒ‡ä»¤**å…ˆæ”¾åœ¨é æœŸç¨‹å¼ç¢¼ä¹‹å‰å°±è¢«åŸ·è¡Œ**ï¼Œä¹Ÿå°±æ˜¯è¨˜æ†¶é«”åˆ†é…çš„var testï¼Œç­‰åˆ°çœŸæ­£åŸ·è¡Œä¸‹ä¸€è¡Œï¼Œåªæ˜¯çœ‹èµ·ä¾†æ˜¯åœ¨åˆ†é…è¨˜æ†¶é«”çš„æƒ…æ³ä¸‹å­˜æ”¾123
	```
	// expected case
	// some codes
	-> console.log(test) // print undefined
	var test = 123

	// actual case
	var test
	// some codes
	-> console.log(test)
	test = 123
	```
	- hoistingï¼šç¨‹å¼ç¢¼æ˜¯å·²ç¶“å…ˆæ¯”é æœŸä½ç½®ä¾†å¾—å…ˆåŸ·è¡Œçš„æƒ…æ³ï¼Œå°±å«åšhoistingï¼Œè¢«ç³»çµ±æå‰åŸ·è¡Œã€‚
- ç™¼ç”Ÿhoisting çš„æƒ…æ³ï¼švarè®Šæ•¸å®£å‘Šã€å‡½å¼å®£å‘Š
- å¯¦éš›æƒ…æ³ç‚ºæ‰€æœ‰varè®Šæ•¸å®£å‘Šå’Œæ‰€æœ‰å‡½å¼å®£å‘Šæœƒå› ç‚ºç·¨è­¯æ™‚æœŸå°±åˆ†é…è¨˜æ†¶é«”ä»¥åŠåˆå§‹å€¼ï¼Œå¾—ä»¥å»ºç«‹å°æ‡‰è­˜åˆ¥å­—å’Œè­˜åˆ¥å­—å°æ‡‰çš„è¨˜æ†¶é«”ç©ºé–“æƒ…æ³ä¸‹çš„ECï¼Œä¸¦æ–¼çœŸæ­£åŸ·è¡Œæ™‚ï¼Œå¯ä»¥ä¾†ä¾æ“šECä¾†ç²å–å°æ‡‰çš„varè®Šæ•¸å’Œå‡½å¼å®£å‘Šï¼Œå³ä½¿ä»–å€‘çš„å®£å‘Šç¨‹å¼ç¢¼ä¸¦ä¸æ˜¯åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œä¹Ÿæœƒåœ¨é–‹ç™¼è€…çš„çœ¼ä¸­çœ‹èµ·ä¾†å°±æ˜¯å…¶ç¨‹å¼ç¢¼è¢«æ‹‰å‡è‡³ä½¿ç”¨ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯hoisitingï¼Œä½†å¯¦éš›ä¸Šä¸¦æ²’æœ‰èª¿æ•´ä½ç½®
- å„ªé»ï¼š
	- åœ¨æ­£å¼ä½¿ç”¨ç‰¹å®šç¨‹å¼ç¢¼ä¸‹çš„è­˜åˆ¥å­—ä¹‹å‰ï¼Œå°±åˆ†é…è¨˜æ†¶é«”å’ŒæŒ‡å®šåˆå§‹å€¼ï¼Œæœ€å¾Œè®“è­˜åˆ¥å­—å»å°æ‡‰è¨˜æ†¶é«”å€å¡Š
- ç¼ºé»ï¼š
	- æ˜“è®€å·®ã€
### ç¯„ä¾‹

å‡½å¼å®£å‘Šï¼šåœ¨ç·¨è­¯æœŸé–“ï¼Œæœƒå°‡æ‰€æœ‰å‡½å¼å®£å‘Šå’Œvarå®£å‘Šåˆ†é…è¨˜æ†¶é«”ç©ºé–“
```
function catName(name) {
  console.log("My cat's name is " + name);
}

catName("Tigger");
/*
ä¸Šé¢ç¨‹å¼çš„çµæœæ˜¯: "My cat's name is Tigger"
*/
```


```
// some codes
-> console.log(test)
var test = 123
```

## è¤‡ç¿’


---
Status:  #ğŸŒ± 
Tags:
[[JavaScript]]
Links:
[[JavaScript æ˜¯ä¸€å€‹å…·æœ‰ç·¨è­¯ã€ç›´è­¯ç‰¹æ€§çš„ç›´è­¯èªè¨€ï¼ŒåŸ·è¡Œå‰æœƒå…ˆç·¨è­¯ä¸­é–“ç¢¼ç„¶å¾Œé‚Šè§£æé‚ŠåŸ·è¡Œ]]
[[JavaScript - var è®Šæ•¸æ˜¯å‡ºè‡ªæ–¼ES6ä¹‹å‰çš„è®Šæ•¸å‹åˆ¥ï¼Œæœƒä¾æ“šæ‰€è™•ç’°å¢ƒä¾†è®Šå‹•è‡ªèº«çš„scopeç‚ºglobal scopeæˆ–è€…function scope]]
References: